webpackJsonp([30],{

/***/ 159:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttpProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__storage_storage__ = __webpack_require__(88);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the HttpProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var HttpProvider = (function () {
    //Observable => subscribe
    function HttpProvider(http, toastCtrl, loadingCtrl, storage) {
        this.http = http;
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.storage = storage;
        this.APPLE_ID = "kmkl2018";
        this.APPLE_KEY = "kmkl1314kmkl1314kmkl1314kmkl1314";
        // public APP_HTTP_URL = 'http://localhost';
        // public APP_IMG = 'http://localhost/cpile/upload';
        //  public APP_IMG = 'http://192.168.2.34/cpile/upload';
        //  public APP_HTTP_URL = 'http://192.168.2.34';
        this.APP_SERVE_URL = '/app';
        this.authorization = '';
        this.APP_IMG = 'https://www.mzzckj.com/cpile/upload';
        this.APP_HTTP_URL = 'https://www.mzzckj.com';
        console.log('Hello HttpProvider Provider');
        this.APP_SERVE_URL = this.APP_HTTP_URL + this.APP_SERVE_URL;
    }
    /**
     * request请求
     */
    HttpProvider.prototype.postJson = function (modal, action, data, isload) {
        var _this = this;
        //post提交
        return new Promise(function (success, complete) {
            var loading = _this.loadingCtrl.create({
                content: '正在请求...'
            });
            //请求状态
            if (isload) {
                loading.present();
            }
            //获取数据
            _this.postData(modal, action, data).subscribe(function (res) {
                if (success)
                    success(res);
            }, function (error) {
                if (isload)
                    loading.dismiss();
                console.log(error);
                _this.toastMessage(error.error.message);
            }, function () {
                if (isload)
                    loading.dismiss();
                if (complete)
                    complete();
            });
        });
    };
    /**
     * request请求
     */
    HttpProvider.prototype.postFile = function (modal, action, data, isload) {
        var _this = this;
        //post提交
        return new Promise(function (success, complete) {
            var loading = _this.loadingCtrl.create({
                content: '正在请求...'
            });
            //请求状态
            if (isload) {
                loading.present();
            }
            //获取数据
            _this.postFileData(modal, action, data).subscribe(function (event) {
                //事件侦听
                if (event.type === __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].DownloadProgress) {
                    // 文件下载进度
                    var percentDone = Math.round(100 * event.loaded / event.total);
                    console.log("File is " + percentDone + "% uploaded.");
                }
                else if (event.type === __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].UploadProgress) {
                    // 文件上传进度
                    var percentDone = Math.round(100 * event.loaded / event.total);
                    console.log("File is " + percentDone + "% uploaded.");
                }
                else if (event instanceof __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["f" /* HttpResponse */]) {
                    if (success)
                        success(event.body);
                }
            }, function (error) {
                if (isload)
                    loading.dismiss();
                console.log(error);
                _this.toastMessage(error.error.message);
            }, function () {
                if (isload)
                    loading.dismiss();
                if (complete)
                    complete();
            });
        });
    };
    /**
     * 请求数据(模块,方法,数据,令牌)
     */
    HttpProvider.prototype.postData = function (modal, action, data) {
        //post提交
        var postUrl = this.APP_SERVE_URL;
        if (modal != "")
            postUrl += '/' + modal;
        if (action != "")
            postUrl += '/' + action;
        var header;
        if (this.authorization === '') {
            header = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["e" /* HttpHeaders */]().set('Content-Type', 'application/json;charset=utf-8');
        }
        else {
            header = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["e" /* HttpHeaders */]().set('Content-Type', 'application/json;charset=utf-8');
            header = new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["e" /* HttpHeaders */]().set('Authorization', 'Bearer ' + this.authorization);
        }
        //发起请求 表单提交
        return this.http.post(postUrl, data, {
            headers: header,
            responseType: 'json'
        });
    };
    /**
     * 上传文件(模块,方法,数据,令牌)
     */
    HttpProvider.prototype.postFileData = function (modal, action, data) {
        //post提交
        var postUrl = this.APP_SERVE_URL;
        if (modal != "")
            postUrl += '/' + modal;
        if (action != "")
            postUrl += '/' + action;
        //开始请求
        return this.http.post(postUrl, data, {
            headers: new __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["e" /* HttpHeaders */]().set('Content-Type', 'application/json;charset=utf-8'),
            observe: 'events',
            reportProgress: true,
            responseType: 'json'
        });
    };
    /**
     * 消息显示
     */
    HttpProvider.prototype.toastMessage = function (message) {
        //请求异常
        this.toastCtrl.create({
            message: message,
            duration: 2000,
            position: 'top'
        }).present();
    };
    HttpProvider.prototype.setAuthorization = function (data) {
        this.authorization = data;
    };
    HttpProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_common_http__["b" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["ToastController"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["LoadingController"],
            __WEBPACK_IMPORTED_MODULE_3__storage_storage__["a" /* StorageProvider */]])
    ], HttpProvider);
    return HttpProvider;
}());

//# sourceMappingURL=http.js.map

/***/ }),

/***/ 160:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EventProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/*
  Generated class for the EventProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var EventProvider = (function () {
    function EventProvider(events) {
        this.events = events;
        this.EVENT_LOGIN = "eventLogin";
        this.EVENT_CENTER = "eventCenter";
        this.EVENT_AFTER_LOGIN = "eventAfterLogin";
        this.EVENT_PROGRESS_VALUE = "eventProgressValue";
        console.log('Hello EventProvider Provider');
    }
    /**
     * 注册事件
     */
    EventProvider.prototype.bindEvents = function (name) {
        var _this = this;
        return new Promise(function (success) {
            _this.events.subscribe(name, function (handler) {
                if (success)
                    success(handler);
            });
        });
    };
    /**
     * 删除事件
     */
    EventProvider.prototype.unbindEvents = function (name) {
        var _this = this;
        return new Promise(function (success) {
            _this.events.unsubscribe(name, function (handler) {
                if (success)
                    success(handler);
            });
        });
    };
    /**
     * 响应事件
     */
    EventProvider.prototype.sendEvents = function (name, data) {
        this.events.publish(name, data);
    };
    EventProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"]])
    ], EventProvider);
    return EventProvider;
}());

//# sourceMappingURL=event.js.map

/***/ }),

/***/ 161:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceInfoDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var DeviceInfoDataService = (function (_super) {
    __extends(DeviceInfoDataService, _super);
    function DeviceInfoDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DeviceInfoDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'deviceInfo';
        _super.prototype.onInit.call(this);
    };
    DeviceInfoDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], DeviceInfoDataService);
    return DeviceInfoDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=deviceInfo-data.service.js.map

/***/ }),

/***/ 175:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 175;

/***/ }),

/***/ 218:
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../pages/about-us/about-us.module": [
		728,
		29
	],
	"../pages/account/account.module": [
		729,
		28
	],
	"../pages/center/center.module": [
		730,
		27
	],
	"../pages/changepwd/changepwd.module": [
		731,
		8
	],
	"../pages/charging-account/charging-account.module": [
		732,
		26
	],
	"../pages/charging-list/charging-list.module": [
		733,
		7
	],
	"../pages/complain-record/complain-record.module": [
		734,
		6
	],
	"../pages/complain/complain.module": [
		735,
		25
	],
	"../pages/device-select/device-select.module": [
		743,
		20
	],
	"../pages/forget-pwd/forget-pwd.module": [
		736,
		23
	],
	"../pages/help/help.module": [
		737,
		22
	],
	"../pages/home/home.module": [
		738,
		9
	],
	"../pages/img-edit/img-edit.module": [
		739,
		21
	],
	"../pages/loacl-account/loacl-account.module": [
		742,
		18
	],
	"../pages/login/dio/login2.module": [
		740,
		1
	],
	"../pages/login/login.module": [
		741,
		19
	],
	"../pages/my-coupons/my-coupons.module": [
		745,
		0
	],
	"../pages/near/near.module": [
		744,
		24
	],
	"../pages/news-detail/news-detail.module": [
		746,
		5
	],
	"../pages/nickname-edit/nickname-edit.module": [
		747,
		17
	],
	"../pages/node-list/node-list.module": [
		748,
		4
	],
	"../pages/personal-message/personal-message.module": [
		749,
		16
	],
	"../pages/question-and-answer/question-and-answer.module": [
		751,
		2
	],
	"../pages/register/register.module": [
		750,
		3
	],
	"../pages/setting/setting.module": [
		754,
		12
	],
	"../pages/tabs/tabs.module": [
		752,
		15
	],
	"../pages/time-select/time-select.module": [
		753,
		13
	],
	"../pages/to-pay/dialog/pay-my-coupons.module": [
		755,
		14
	],
	"../pages/to-pay/to-pay.module": [
		756,
		11
	],
	"../pages/user-agreement/user-agreement.module": [
		757,
		10
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids)
		return Promise.reject(new Error("Cannot find module '" + req + "'."));
	return __webpack_require__.e(ids[1]).then(function() {
		return __webpack_require__(ids[0]);
	});
};
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = 218;
module.exports = webpackAsyncContext;

/***/ }),

/***/ 22:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BaseDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__libs_smoke_database__ = __webpack_require__(414);
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

var BaseDataService = (function () {
    function BaseDataService() {
        this.DATABASE_NAME = 'kmorder';
        this.COLLECTION = ['order', 'user', 'home', 'account', 'charg', 'complain', 'chargstation', 'question', 'help', 'aboutus', 'mtc', 'deviceInfo'];
        this.version = 1;
        this.onInit();
    }
    BaseDataService.prototype.onInit = function () {
        this.database = new __WEBPACK_IMPORTED_MODULE_0__libs_smoke_database__["a" /* Database */](this.DATABASE_NAME, this.COLLECTION);
    };
    BaseDataService.prototype.save = function (entity) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        if ('key' in entity) {
                            _this.database.store(_this.ENTITY_NAME).get(entity.key)
                                .then(function (data) {
                                if (data == null) {
                                    entity.key = __WEBPACK_IMPORTED_MODULE_0__libs_smoke_database__["a" /* Database */].createKey();
                                    _this.database.store(_this.ENTITY_NAME)
                                        .insert([entity])
                                        .then(function (result) {
                                        _this.resolveResult(result);
                                        resolve(entity.key);
                                    })
                                        .catch(function (result) {
                                        _this.resolveResult(result);
                                        resolve(entity.key);
                                    });
                                }
                                else {
                                    _this.database.store(_this.ENTITY_NAME)
                                        .update([entity])
                                        .then(function (result) {
                                        _this.resolveResult(result);
                                        resolve(entity.key);
                                    })
                                        .catch(function (result) {
                                        _this.resolveResult(result);
                                        resolve(entity.key);
                                    });
                                }
                            });
                        }
                        else {
                            entity.key = __WEBPACK_IMPORTED_MODULE_0__libs_smoke_database__["a" /* Database */].createKey();
                            _this.database.store(_this.ENTITY_NAME)
                                .insert([entity])
                                .then(function (result) {
                                _this.resolveResult(result);
                                resolve(entity.key);
                            })
                                .catch(function (result) {
                                _this.resolveResult(result);
                                resolve(entity.key);
                            });
                        }
                    })];
            });
        });
    };
    BaseDataService.prototype.resolveResult = function (result) {
        console.log(result);
    };
    BaseDataService.prototype.find = function (queryFunction) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.database.store(this.ENTITY_NAME).query().where(queryFunction).collect()];
            });
        });
    };
    BaseDataService.prototype.findAsc = function (queryFunction, comp) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.database.store(this.ENTITY_NAME).query().where(queryFunction).orderCmpBy(comp).collect()];
            });
        });
    };
    BaseDataService.prototype.findDesc = function (queryFunction, comp) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                return [2 /*return*/, this.database.store(this.ENTITY_NAME).query().where(queryFunction).orderCmpByDescending(comp).collect()];
            });
        });
    };
    BaseDataService.prototype.delete = function (queryFunction) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                return [2 /*return*/, new Promise(function (resolve, reject) {
                        var _store = _this.database.store(_this.ENTITY_NAME);
                        _store.query().where(queryFunction).collect()
                            .then(function (datas) {
                            var _datas = datas;
                            _store.delete(datas).then(function () {
                                resolve(_datas.length);
                            });
                        });
                    })];
            });
        });
    };
    BaseDataService.prototype.deleteAll = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.delete(function () {
                            return true;
                        })];
                    case 1: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    return BaseDataService;
}());

//# sourceMappingURL=base-data.service.js.map

/***/ }),

/***/ 268:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WechatProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__http_http__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__storage_storage__ = __webpack_require__(88);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sha1_sha1__ = __webpack_require__(269);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__units_units__ = __webpack_require__(75);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var WechatProvider = (function () {
    function WechatProvider(http, storage, sha1, units) {
        this.http = http;
        this.storage = storage;
        this.sha1 = sha1;
        this.units = units;
        this.WX_CHATID = 'wx5c7eb602bfc3b64c'; //微信模式
        this.APP_SHARE_URL = 'http://kaleyun.kmaoxx.com'; //微信分享路径
        console.log('Hello WechatProvider Provider');
    }
    //登录
    WechatProvider.prototype.wechat_login = function () {
        //授权code
        var code = this.units.urlParams("code");
        var state = this.units.urlParams("state");
        if (code == undefined && state == undefined) {
            //检查机制
            this.loadSessionUser();
        }
        else {
            this.wechat_code(code, state);
        }
    };
    //设定分享
    WechatProvider.prototype.wechat_share = function (params) {
        var title = params['title'] == undefined ? "快猫卡乐" : params['title'];
        var desc = params['desc'] == undefined ? "专业专注" : params['desc'];
        var link = params['link'] == undefined ? this.APP_SHARE_URL : this.APP_SHARE_URL + "/#/" + params['link'];
        var imgUrl = params['thumb'] == undefined ? this.APP_SHARE_URL + "/logo.png" : params['thumb'];
        //获取“分享到朋友圈”按钮点击状态及自定义分享内容接口
        wx.onMenuShareTimeline({
            title: title,
            desc: desc,
            link: link,
            imgUrl: imgUrl,
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        //获取“分享给朋友”按钮点击状态及自定义分享内容接口
        wx.onMenuShareAppMessage({
            title: title,
            desc: desc,
            link: link,
            imgUrl: imgUrl,
            success: function (res) {
                // 用户确认分享后执行的回调函数
            },
            cancel: function (res) {
                // 用户取消分享后执行的回调函数
            }
        });
        //获取“分享到QQ”按钮点击状态及自定义分享内容接口
        wx.onMenuShareQQ({
            title: title,
            desc: desc,
            link: link,
            imgUrl: imgUrl,
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        //获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口
        wx.onMenuShareWeibo({
            title: title,
            desc: desc,
            link: link,
            imgUrl: imgUrl,
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
        //获取“分享到QQ空间”按钮点击状态及自定义分享内容接口
        wx.onMenuShareQZone({
            title: title,
            desc: desc,
            link: link,
            imgUrl: imgUrl,
            success: function () {
                // 用户确认分享后执行的回调函数
            },
            cancel: function () {
                // 用户取消分享后执行的回调函数
            }
        });
    };
    //微信初始化
    WechatProvider.prototype.wechat_init = function () {
        var url = window.location.href.split('#')[0];
        this.wechat_sign(url).then(function (result) {
            // 配置参数
            var config = {
                debug: false,
                appId: result['appid'],
                timestamp: result['timestamp'],
                nonceStr: result['nonceStr'],
                signature: result['signature'],
                jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo', 'hideMenuItems', 'showMenuItems', 'hideAllNonBaseMenuItem',
                    'showAllNonBaseMenuItem', 'translateVoice', 'startRecord', 'stopRecord', 'onRecordEnd', 'playVoice', 'pauseVoice', 'stopVoice', 'uploadVoice', 'downloadVoice',
                    'chooseImage', 'previewImage', 'uploadImage', 'downloadImage', 'getNetworkType', 'openLocation', 'getLocation', 'hideOptionMenu', 'showOptionMenu', 'closeWindow',
                    'scanQRCode', 'chooseWXPay', 'openProductSpecificView', 'addCard', 'chooseCard', 'openCard'
                ]
            }; // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
            // 通过config接口注入权限验证配置
            wx.config(config);
            // 通过ready接口处理成功验证
            wx.ready(function () {
                //已经准备完毕
                // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，
                // 所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。
                // 对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。
            });
            // 通过error接口处理失败验证
            wx.error(function (res) {
                // config信息验证失败会执行error函数，如签名过期导致验证失败，
                // 具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。
            });
        });
    };
    //初始化(授权回调才会调用)
    WechatProvider.prototype.wechat_code = function (code, state) {
        var _this = this;
        //进行微信登录
        if (code != undefined && state == "wechat") {
            this.wechat_auth(code).then(function (success) {
                //恢复网址
                _this.wechat_restart_url();
            });
        }
    };
    //用户登录(微信公众号)
    WechatProvider.prototype.wechat_auth = function (code) {
        var _this = this;
        return new Promise(function (success) {
            //授权请求
            _this.http.postJson('wechat', 'codeauth', {
                'code': code
            }, false).then(function (res) {
                //登录成功
                _this.storage.saveStorage('user', { 'user_id': res['data']['id'] }).then(function (result) {
                    if (success)
                        success();
                });
            }, function (fail) {
                if (success)
                    success();
            });
        });
    };
    //用户授权(微信公众号)
    WechatProvider.prototype.wechat_snsapi_userinfo = function (state) {
        //未登录进行登录
        var url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' +
            this.WX_CHATID + '&redirect_uri=' + encodeURIComponent(window.location.href) +
            '&response_type=code&scope=snsapi_userinfo&state=' + state + '#wechat_redirect';
        return url;
    };
    // 生成签名的随机串
    WechatProvider.prototype.wechat_noncestr = function () {
        return Math.random().toString(36).substr(2, 15);
    };
    ;
    // 生成签名的时间戳
    WechatProvider.prototype.wechat_timestamp = function () {
        var timestamp = new Date().getTime() / 1000;
        return parseInt(timestamp.toString()).toString();
    };
    ;
    // 排序整理数据
    WechatProvider.prototype.wechat_raw = function (args) {
        var keys = Object.keys(args);
        keys = keys.sort();
        var newArgs = {};
        keys.forEach(function (key) {
            newArgs[key.toLowerCase()] = args[key];
        });
        var result = '';
        for (var k in newArgs) {
            if (newArgs.hasOwnProperty(k)) {
                result += '&' + k + '=' + newArgs[k];
            }
        }
        result = result.substr(1);
        return result;
    };
    ;
    //签名校验
    WechatProvider.prototype.wechat_sign = function (url) {
        var _this = this;
        return new Promise(function (success) {
            //请求
            _this.http.postJson('wechat', 'jsticket', {}, false).then(function (res) {
                // 参数构成
                var ret = {
                    jsapi_ticket: res['data'],
                    nonceStr: _this.wechat_noncestr(),
                    timestamp: _this.wechat_timestamp(),
                    url: url
                };
                // 签名做成
                var result = _this.wechat_raw(ret);
                ret['signature'] = _this.sha1.hash(result);
                ret['appid'] = _this.WX_CHATID;
                // 删除数据
                delete ret.jsapi_ticket;
                delete ret.url;
                // 函数回调
                success(ret);
            }, function (fail) {
            });
        });
    };
    //恢复网址
    WechatProvider.prototype.wechat_restart_url = function () {
        var _this = this;
        this.storage.getStorage('reflus').then(function (val) {
            _this.storage.removeStorage('reflus').then(function (success) {
                setTimeout("javascript:location.href='" + val + "'", 100);
            });
        });
    };
    //由session缓存,然后存入系统内存
    WechatProvider.prototype.loadSessionUser = function () {
        var _this = this;
        //检查用户是否已经登录
        this.storage.getStorage('user').then(function (val) {
            //是否登录
            if (val == undefined || val['user_id'] == undefined) {
                //执行授权登录
                var snsapiUrl = _this.wechat_snsapi_userinfo("wechat");
                //存入要回调的地址
                _this.storage.saveStorage('reflus', window.location.href).then(function (success) {
                    //默认静默授权
                    setTimeout("javascript:location.href='" + snsapiUrl + "'", 100);
                });
            }
            else {
                //初始化微信组件
                _this.wechat_init();
            }
        });
    };
    WechatProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__http_http__["a" /* HttpProvider */],
            __WEBPACK_IMPORTED_MODULE_2__storage_storage__["a" /* StorageProvider */],
            __WEBPACK_IMPORTED_MODULE_3__sha1_sha1__["a" /* Sha1Provider */],
            __WEBPACK_IMPORTED_MODULE_4__units_units__["a" /* UnitsProvider */]])
    ], WechatProvider);
    return WechatProvider;
}());

//# sourceMappingURL=wechat.js.map

/***/ }),

/***/ 269:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Sha1Provider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/*
  Generated class for the Sha1Provider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var Sha1Provider = (function () {
    function Sha1Provider() {
        this.W = new Array(80);
        this.H0 = 0x67452301;
        this.H1 = 0xEFCDAB89;
        this.H2 = 0x98BADCFE;
        this.H3 = 0x10325476;
        this.H4 = 0xC3D2E1F0;
        console.log('Hello Sha1Provider Provider');
    }
    /*msg :要传入验证的的 sha1字符串*/
    Sha1Provider.prototype.hash = function (msg) {
        this.word_array = new Array();
        this.msg = this.Utf8Encode(msg);
        this.msg_len = this.msg.length;
        for (var i = 0; i < this.msg_len - 3; i += 4) {
            var j = this.msg.charCodeAt(i) << 24 | this.msg.charCodeAt(i + 1) << 16 |
                this.msg.charCodeAt(i + 2) << 8 | this.msg.charCodeAt(i + 3);
            this.word_array.push(j);
        }
        this.initMsg(this.msg_len);
        return this.hex_sha1();
    };
    Sha1Provider.prototype.initMsg = function (msg_len) {
        var i;
        switch (msg_len % 4) {
            case 0:
                i = 0x080000000;
                break;
            case 1:
                i = this.msg.charCodeAt(msg_len - 1) << 24 | 0x0800000;
                break;
            case 2:
                i = this.msg.charCodeAt(msg_len - 2) << 24 | this.msg.charCodeAt(msg_len - 1) << 16 | 0x08000;
                break;
            case 3:
                i = this.msg.charCodeAt(msg_len - 3) << 24 | this.msg.charCodeAt(msg_len - 2) << 16 | this.msg.charCodeAt(msg_len - 1) << 8 | 0x80;
                break;
        }
        this.word_array.push(i);
        while ((this.word_array.length % 16) != 14)
            this.word_array.push(0);
        this.word_array.push(msg_len >>> 29);
        this.word_array.push((msg_len << 3) & 0x0ffffffff);
        this.getTemp();
    };
    Sha1Provider.prototype.getTemp = function () {
        for (this.blockstart = 0; this.blockstart < this.word_array.length; this.blockstart += 16) {
            for (var i = 0; i < 16; i++)
                this.W[i] = this.word_array[this.blockstart + i];
            for (var i = 16; i <= 79; i++)
                this.W[i] = this.rotate_left(this.W[i - 3] ^ this.W[i - 8] ^ this.W[i - 14] ^ this.W[i - 16], 1);
            this.A = this.H0;
            this.B = this.H1;
            this.C = this.H2;
            this.D = this.H3;
            this.E = this.H4;
            for (var i = 0; i <= 19; i++) {
                this.temp = (this.rotate_left(this.A, 5) + ((this.B & this.C) | (~this.B & this.D)) + this.E + this.W[i] + 0x5A827999) & 0x0ffffffff;
                this.E = this.D;
                this.D = this.C;
                this.C = this.rotate_left(this.B, 30);
                this.B = this.A;
                this.A = this.temp;
            }
            for (var i = 20; i <= 39; i++) {
                this.temp = (this.rotate_left(this.A, 5) + (this.B ^ this.C ^ this.D) + this.E + this.W[i] + 0x6ED9EBA1) & 0x0ffffffff;
                this.E = this.D;
                this.D = this.C;
                this.C = this.rotate_left(this.B, 30);
                this.B = this.A;
                this.A = this.temp;
            }
            for (var i = 40; i <= 59; i++) {
                this.temp = (this.rotate_left(this.A, 5) + ((this.B & this.C) | (this.B & this.D) | (this.C & this.D)) + this.E + this.W[i] + 0x8F1BBCDC) & 0x0ffffffff;
                this.E = this.D;
                this.D = this.C;
                this.C = this.rotate_left(this.B, 30);
                this.B = this.A;
                this.A = this.temp;
            }
            for (var i = 60; i <= 79; i++) {
                this.temp = (this.rotate_left(this.A, 5) + (this.B ^ this.C ^ this.D) + this.E + this.W[i] + 0xCA62C1D6) & 0x0ffffffff;
                this.E = this.D;
                this.D = this.C;
                this.C = this.rotate_left(this.B, 30);
                this.B = this.A;
                this.A = this.temp;
            }
            this.H0 = (this.H0 + this.A) & 0x0ffffffff;
            this.H1 = (this.H1 + this.B) & 0x0ffffffff;
            this.H2 = (this.H2 + this.C) & 0x0ffffffff;
            this.H3 = (this.H3 + this.D) & 0x0ffffffff;
            this.H4 = (this.H4 + this.E) & 0x0ffffffff;
        }
    };
    /**获取sha1加密字符串*/
    Sha1Provider.prototype.hex_sha1 = function () {
        var temp = this.cvt_hex(this.H0) + this.cvt_hex(this.H1) + this.cvt_hex(this.H2) + this.cvt_hex(this.H3) + this.cvt_hex(this.H4);
        return temp.toLowerCase();
    };
    Sha1Provider.prototype.rotate_left = function (n, s) {
        var t4 = (n << s) | (n >>> (32 - s));
        return t4;
    };
    ;
    Sha1Provider.prototype.cvt_hex = function (val) {
        var str = "";
        var i;
        var v;
        for (i = 7; i >= 0; i--) {
            v = (val >>> (i * 4)) & 0x0f;
            str += v.toString(16);
        }
        return str;
    };
    ;
    Sha1Provider.prototype.Utf8Encode = function (string) {
        string = string.replace(/\r\n/g, "\n");
        var utftext = "";
        for (var n = 0; n < string.length; n++) {
            var c = string.charCodeAt(n);
            if (c < 128) {
                utftext += String.fromCharCode(c);
            }
            else if ((c > 127) && (c < 2048)) {
                utftext += String.fromCharCode((c >> 6) | 192);
                utftext += String.fromCharCode((c & 63) | 128);
            }
            else {
                utftext += String.fromCharCode((c >> 12) | 224);
                utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                utftext += String.fromCharCode((c & 63) | 128);
            }
        }
        return utftext;
    };
    ;
    Sha1Provider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], Sha1Provider);
    return Sha1Provider;
}());

//# sourceMappingURL=sha1.js.map

/***/ }),

/***/ 270:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CodepushProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__ = __webpack_require__(271);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_dialog_dialog__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_event_event__ = __webpack_require__(160);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the CodepushProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var CodepushProvider = (function () {
    function CodepushProvider(codePush, dialog, event) {
        this.codePush = codePush;
        this.dialog = dialog;
        this.event = event;
        console.log('Hello CodepushProvider Provider');
    }
    CodepushProvider.prototype.initCodePush = function () {
        //对象写入
        var dialogs = this.dialog;
        var events = this.event;
        //下载进度条
        var downloadProgress = function (progress) {
            //下载进度
            var progressvalue = parseInt((progress.receivedBytes / progress.totalBytes).toString());
            events.sendEvents(events.EVENT_PROGRESS_VALUE, { "status": 1, "value": progressvalue });
            console.log("Downloaded " + progress.receivedBytes + " of " + progress.totalBytes);
        };
        //异步提交
        this.codePush.sync({
            ignoreFailedUpdates: true,
            installMode: __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["b" /* InstallMode */].IMMEDIATE,
            minimumBackgroundDuration: 0,
            mandatoryInstallMode: __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["b" /* InstallMode */].IMMEDIATE,
            updateDialog: {
                optionalIgnoreButtonLabel: '跳过更新',
                optionalInstallButtonLabel: '执行更新',
                optionalUpdateMessage: '检测到新版本，是否更新？',
                mandatoryUpdateMessage: "您的版本过旧，请更新",
                mandatoryContinueButtonLabel: "执行更新",
                updateTitle: '更新提示',
            }
        }, downloadProgress).subscribe(function (syncStatus) {
            //是否执行更新
            if (syncStatus === __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].UP_TO_DATE) {
                //无需更新 
                console.log("\u65E0\u9700\u66F4\u65B0");
            }
            else {
                //条件显示
                switch (syncStatus) {
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].UPDATE_INSTALLED:
                        //开始解压安装 第五步
                        console.log("\u5F00\u59CB\u89E3\u538B\u5B89\u88C5");
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].UPDATE_IGNORED:
                        //更新取消 
                        console.log("\u66F4\u65B0\u53D6\u6D88");
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].ERROR:
                        //更新异常
                        console.log("\u66F4\u65B0\u5F02\u5E38");
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].IN_PROGRESS:
                        //进入进度条
                        console.log("\u8FDB\u5165\u8FDB\u5EA6\u6761");
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].CHECKING_FOR_UPDATE:
                        //检查更新 第一步
                        console.log("\u68C0\u67E5\u66F4\u65B0");
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].AWAITING_USER_ACTION:
                        //等待用户选择 第二步
                        console.log("\u7B49\u5F85\u7528\u6237\u9009\u62E9");
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].DOWNLOADING_PACKAGE:
                        //开始下载安装包--执行进度条显示 第三步
                        console.log("\u5F00\u59CB\u4E0B\u8F7D\u5B89\u88C5\u5305");
                        dialogs.showPopoer("ProgressPage", {}, { enableBackdropDismiss: false, cssClass: "progressbg" }, null);
                        break;
                    case __WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["c" /* SyncStatus */].INSTALLING_UPDATE:
                        //下载完毕开始安装 第四步
                        console.log("\u4E0B\u8F7D\u5B8C\u6BD5\u5F00\u59CB\u5B89\u88C5");
                        break;
                    default:
                        break;
                }
            }
        }, function (error) {
            events.sendEvents(events.EVENT_PROGRESS_VALUE, { "status": 0, "value": 100 });
        });
    };
    CodepushProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_code_push__["a" /* CodePush */],
            __WEBPACK_IMPORTED_MODULE_2__providers_dialog_dialog__["a" /* DialogProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_event_event__["a" /* EventProvider */]])
    ], CodepushProvider);
    return CodepushProvider;
}());

//# sourceMappingURL=codepush.js.map

/***/ }),

/***/ 272:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JpushProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__jiguang_ionic_jpush__ = __webpack_require__(273);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_dialog_dialog__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__ = __webpack_require__(89);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the JpushProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var JpushProvider = (function () {
    function JpushProvider(jpush, device, dialog) {
        this.jpush = jpush;
        this.device = device;
        this.dialog = dialog;
        console.log('Hello JpushProvider Provider');
    }
    JpushProvider.prototype.initJpush = function () {
        this.jpush.init();
        this.jpush.setDebugMode(false);
        this.jpush.requestPermission();
        this.jpush.setApplicationIconBadgeNumber(0);
    };
    JpushProvider.prototype.getRegistrationID = function () {
        this.jpush.getRegistrationID().then(function (registrationID) {
        });
    };
    //程序打开到时候接收触发
    JpushProvider.prototype.receiveNotification = function () {
        var _this = this;
        //接收通知
        document.addEventListener('jpush.receiveNotification', function (event) {
            _this.jpush.setBadge(0);
            _this.jpush.resetBadge();
            _this.jpush.setApplicationIconBadgeNumber(0);
            //推送参数
            var content;
            if (_this.device.platform == 'Android') {
                content = event.alert;
            }
            else {
                content = event.aps.alert;
            }
            //做以下处理
            _this.dialog.showAlert('提示', 'Receive notification: ' + JSON.stringify(event));
        }, false);
    };
    //点击推送消息触发
    JpushProvider.prototype.openNotification = function () {
        var _this = this;
        //接收通知
        document.addEventListener('jpush.openNotification', function (event) {
            _this.jpush.setBadge(0);
            _this.jpush.resetBadge();
            _this.jpush.setApplicationIconBadgeNumber(0);
            //推送参数
            var content;
            if (_this.device.platform == 'Android') {
                content = event.alert;
            }
            else {
                content = event.aps.alert;
            }
            //做以下处理
            _this.dialog.showAlert('提示', 'Receive openNotification: ' + JSON.stringify(event));
        }, false);
    };
    //加入本地推送
    JpushProvider.prototype.addLocalNotification = function () {
        if (this.device.platform == 'Android') {
            this.jpush.addLocalNotification(0, 'Hello JPush', 'JPush', 1, 5000);
        }
        else {
            this.jpush.addLocalNotificationForIOS(5, 'Hello JPush', 1, 'localNoti1');
        }
    };
    JpushProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__jiguang_ionic_jpush__["a" /* JPush */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__["a" /* Device */],
            __WEBPACK_IMPORTED_MODULE_2__providers_dialog_dialog__["a" /* DialogProvider */]])
    ], JpushProvider);
    return JpushProvider;
}());

//# sourceMappingURL=jpush.js.map

/***/ }),

/***/ 274:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JmessageProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jmessage_chenyu__ = __webpack_require__(275);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_dialog_dialog__ = __webpack_require__(46);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the JmessageProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var JmessageProvider = (function () {
    function JmessageProvider(platform, jmessage, dialog) {
        this.platform = platform;
        this.jmessage = jmessage;
        this.dialog = dialog;
        console.log('Hello JmessageProvider Provider');
    }
    JmessageProvider.prototype.initJmessage = function () {
        // 初始化插件
        this.jmessage.init({ isOpenMessageRoaming: true });
    };
    //用户注册
    JmessageProvider.prototype.regist = function (obj) {
        var _this = this;
        //{username:1,password:2,nickname:3,gender:'male',extras:{key1:'',key2:''}};
        if (this.platform.is('cordova')) {
            this.jmessage.register(obj).then(function () {
                _this.dialog.showToast("top", "注册成功，请登录！");
            })
                .catch(function (error) {
                _this.dialog.showToast("top", "注册失败" + JSON.stringify(error));
            });
        }
        else {
            //执行web版本
        }
    };
    //用户登录
    JmessageProvider.prototype.login = function (obj) {
        var _this = this;
        //{ username: 'username', password: 'password' }
        this.jmessage.login(obj).then(function () {
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "登陆失败" + JSON.stringify(error));
        });
    };
    //注销登录
    JmessageProvider.prototype.logout = function () {
        var _this = this;
        this.jmessage.logout().then(function () {
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "注销失败" + JSON.stringify(error));
        });
    };
    //获取自己信息
    JmessageProvider.prototype.getMyInfo = function () {
        var _this = this;
        this.jmessage.getMyInfo().then(function (myInfo) {
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "获取自己信息失败" + JSON.stringify(error));
        });
    };
    //获取他人信息
    JmessageProvider.prototype.getUserInfo = function (obj) {
        var _this = this;
        //{ username: 'username', appKey: 'your_app_key' }
        this.jmessage.getUserInfo(obj).then(function (userInfo) {
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "获取他人信息失败" + JSON.stringify(error));
        });
    };
    //更新当前用户密码
    JmessageProvider.prototype.updateMyPassword = function (obj) {
        var _this = this;
        //{ oldPwd: 'old_password', newPwd: 'new_password' }
        this.jmessage.updateMyPassword(obj).then(function () {
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "更新当前用户密码失败" + JSON.stringify(error));
        });
    };
    //更新当前用户头像
    JmessageProvider.prototype.updateMyAvatar = function (obj) {
        var _this = this;
        //{ imgPath: 'img_local_path' },
        this.jmessage.updateMyAvatar(obj).then(function () {
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "更新当前用户头像失败" + JSON.stringify(error));
        });
    };
    //下载用户头像缩略图
    JmessageProvider.prototype.downloadThumbUserAvatar = function (obj) {
        var _this = this;
        //{ username: 'username', appKey: 'target_user_appKey' }
        this.jmessage.downloadThumbUserAvatar(obj).then(function (result) {
            //var username = result.username
            //var appKey = result.appKey
            //var filePath = result.filePath  // 图片文件路径
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "下载用户头像缩略图失败" + JSON.stringify(error));
        });
    };
    //下载用户头像原图
    JmessageProvider.prototype.downloadOriginalUserAvatar = function (obj) {
        var _this = this;
        //{ username: 'username', appKey: 'target_user_appKey' }
        this.jmessage.downloadOriginalUserAvatar(obj).then(function (result) {
            //var username = result.username
            //var appKey = result.appKey
            //var filePath = result.filePath  // 图片文件路径
        })
            .catch(function (error) {
            _this.dialog.showToast("top", "下载用户头像原图失败" + JSON.stringify(error));
        });
    };
    JmessageProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_2_jmessage_chenyu__["a" /* JmessageChenyu */],
            __WEBPACK_IMPORTED_MODULE_3__providers_dialog_dialog__["a" /* DialogProvider */]])
    ], JmessageProvider);
    return JmessageProvider;
}());

//# sourceMappingURL=jmessage.js.map

/***/ }),

/***/ 372:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInfoProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return user_info; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_common_http__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(1);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/*
  Generated class for the UserInfoProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var UserInfoProvider = (function () {
    function UserInfoProvider(http) {
        this.http = http;
        console.log('Hello UserInfoProvider Provider');
    }
    UserInfoProvider.prototype.getuserInfo = function () {
        return this.userInfo;
    };
    UserInfoProvider.prototype.setuserInfo = function (userInfo) {
        this.userInfo = userInfo;
    };
    UserInfoProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_common_http__["b" /* HttpClient */]])
    ], UserInfoProvider);
    return UserInfoProvider;
}());

var user_info = (function () {
    function user_info() {
    }
    return user_info;
}());

//# sourceMappingURL=user-info.js.map

/***/ }),

/***/ 374:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrderDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var OrderDataService = (function (_super) {
    __extends(OrderDataService, _super);
    function OrderDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OrderDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'order';
        _super.prototype.onInit.call(this);
    };
    OrderDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], OrderDataService);
    return OrderDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=order-data.service.js.map

/***/ }),

/***/ 375:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var UserDataService = (function (_super) {
    __extends(UserDataService, _super);
    function UserDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UserDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'user';
        _super.prototype.onInit.call(this);
    };
    UserDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], UserDataService);
    return UserDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=user-data.service.js.map

/***/ }),

/***/ 376:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BleProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_common_http__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_ble__ = __webpack_require__(162);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_dialog_dialog__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_service_deviceInfo_data_service__ = __webpack_require__(161);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_angular__ = __webpack_require__(14);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







/*
  Generated class for the UserInfoProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var BleProvider = (function () {
    function BleProvider(http, ble, dialog, cordova_plugin_device, deviceInfo, loadingCtrl) {
        this.http = http;
        this.ble = ble;
        this.dialog = dialog;
        this.cordova_plugin_device = cordova_plugin_device;
        this.deviceInfo = deviceInfo;
        this.loadingCtrl = loadingCtrl;
        this.head = {
            bHeadMark: 'LKB',
            bVer: 1,
            bLength: null,
            bCmdld: null,
            bSeq: 0,
            bCks: null //2字节
        };
        this.discharge = {
            userid: String,
            mins: String //4字节
        };
        this.charge = {
            up1: String,
            up2: String //2字节
        };
        this.time = {
            year: String,
            month: String,
            day: String,
            hour: String,
            min: String,
            sec: String //1字节
        };
        this.equipmentNum = {
            device_id: String,
            reserver_code: String,
            index_code: String //1字节
        };
        //选中的蓝牙信息
        this.info = '';
        //扫描出的蓝牙设备
        this.devices = new Array();
        this.notifyInfo = new Array();
        this.device_state = 'off';
        console.log('Hello BleProvider Provider');
    }
    /**
     * 生成头包
     * @param bHeadMark
     * @param bVer
     * @param bLength
     * @param bCmdld
     * @param bSeq
     * @param bCks
     */
    BleProvider.prototype.assembleHeadBuffer = function (bHeadMark, bVer, bLength, bCmdld, bSeq, bCks) {
        var head = {
            bHeadMark: null,
            bVer: null,
            bLength: null,
            bCmdld: null,
            bSeq: null,
            bCks: null
        };
        var headBuffer;
        head.bHeadMark = this.stringToHex(bHeadMark);
        head.bVer = this.supplementZer0((bVer).toString(16), 1);
        head.bLength = this.supplementZer0((bLength).toString(16), 2);
        head.bCmdld = bCmdld;
        head.bSeq = this.supplementZer0((bSeq).toString(16), 2);
        head.bCks = this.supplementZer0((bCks).toString(16), 2);
        headBuffer = head.bHeadMark + head.bVer + head.bLength + head.bCmdld + head.bSeq + head.bCks;
        return headBuffer;
    };
    /**
     * 用0补充位数
     * @param str
     * @param num
     */
    BleProvider.prototype.supplementZer0 = function (str, num) {
        var pos = 0;
        num *= 2;
        var len = str.length;
        if (len !== num) {
            for (var i = 0; i < num - len; i++) {
                str = '0' + str;
            }
        }
        return str;
    };
    /**
     * 字符串转ASCII码
     * @param str
     */
    BleProvider.prototype.stringToHex = function (str) {
        var val = "";
        for (var i = 0; i < str.length; i++) {
            if (val == "")
                val = str.charCodeAt(i).toString(16);
            else
                val += str.charCodeAt(i).toString(16);
        }
        return val;
    };
    BleProvider.prototype.ling = function (data) {
        var a = '';
        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {
            var d = data_1[_i];
            a += d;
        }
        return a;
    };
    /**
     * 选择蓝牙设备
     */
    BleProvider.prototype.selected = function (id) {
        this.info = id;
    };
    /**
     * 蓝牙扫描
     */
    BleProvider.prototype.scan = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(this.cordova_plugin_device.platform === 'Android')) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.ble.enable()];
                    case 1:
                        _a.sent();
                        this.devices.splice(0);
                        this.ble.scan([], 10).subscribe(function (device) {
                            _this.devices.push(device);
                            _this.androidAdvertising(device);
                        });
                        _a.label = 2;
                    case 2:
                        if (this.cordova_plugin_device.platform === 'iOS') {
                            this.devices.splice(0);
                            this.ble.scan([], 10).subscribe(function (device) {
                                _this.devices.push(device);
                                _this.iosAdvertising(device);
                            });
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    BleProvider.prototype.androidAdvertising = function (device) {
        var adData = (new Uint8Array(device.advertising)).toString().split(',');
        var a = '';
        for (var _i = 0, adData_1 = adData; _i < adData_1.length; _i++) {
            var b = adData_1[_i];
            a = a + this.supplementZer0(parseInt(b).toString(16), 1);
        }
        var c = a.slice(10, 54);
        device.device_id = c.slice(0, 8);
        device.charger_times = c.slice(8, 16);
        device.work_minutes = c.slice(16, 24);
        device.device_status = c.slice(24, 32);
        device.uint_price1 = c.slice(32, 36);
        device.uint_price2 = c.slice(36, 40);
        device.device_index = c.slice(40, 42);
        device.rc_total = c.slice(42, 44);
        device.mac = a[80].toUpperCase() + a[81].toUpperCase() + ':' + a[82].toUpperCase() + a[83].toUpperCase() + ':' + a[84].toUpperCase() + a[85].toUpperCase() + ':' + a[86].toUpperCase() + a[87].toUpperCase() + ':' + a[88].toUpperCase() + a[89].toUpperCase() + ':' + a[90].toUpperCase() + a[91].toUpperCase();
        // a.slice(80, 92);
        var bit = '';
        for (var i = 0; i < device.device_status.length; i++) {
            bit += this.supplementZer0(parseInt(device.device_status[i] + device.device_status[i + 1], 16).toString(2), 4);
            i++;
        }
        device.use_status = bit[0]; //使用状态 0空闲 1充电中
        device.work_status = bit[31]; //设备状态 0正常 1故障
        this.dialog.showAlert(JSON.stringify(device.name), '使用状态=' + JSON.stringify(device.use_status) + ',设备状态=' + JSON.stringify(device.work_status));
    };
    BleProvider.prototype.iosAdvertising = function (device) {
        var adData = (new Uint8Array(device.advertising.kCBAdvDataManufacturerData)).toString().split(',');
        var a = '';
        for (var _i = 0, adData_2 = adData; _i < adData_2.length; _i++) {
            var b = adData_2[_i];
            a = a + this.supplementZer0(parseInt(b).toString(16), 1);
        }
        var c = a.slice(0, 44);
        device.device_id = c.slice(0, 8);
        device.charger_times = c.slice(8, 16);
        device.work_minutes = c.slice(16, 24);
        device.device_status = c.slice(24, 32);
        device.uint_price1 = c.slice(32, 36);
        device.uint_price2 = c.slice(36, 40);
        device.device_index = c.slice(40, 42);
        device.rc_total = c.slice(42, 44);
        device.mac = a[52].toUpperCase() + a[53].toUpperCase() + ':' + a[54].toUpperCase() + a[55].toUpperCase() + ':' + a[56].toUpperCase() + a[57].toUpperCase() + ':' + a[58].toUpperCase() + a[59].toUpperCase() + ':' + a[60].toUpperCase() + a[61].toUpperCase() + ':' + a[62].toUpperCase() + a[63].toUpperCase();
        // device.id = device.mac;
        var bit = '';
        for (var i = 0; i < device.device_status.length; i++) {
            bit += this.supplementZer0(parseInt(device.device_status[i] + device.device_status[i + 1], 16).toString(2), 4);
            i++;
        }
        device.use_status = bit[0]; //使用状态 0空闲 1充电中
        device.work_status = bit[31]; //设备状态 0正常 1故障
        this.dialog.showAlert(JSON.stringify(device.name), '使用状态=' + JSON.stringify(device.use_status) + ',设备状态=' + JSON.stringify(device.work_status));
    };
    /**
     * 蓝牙写入 0110
     * @param buf
     */
    BleProvider.prototype.write0110 = function () {
        return __awaiter(this, void 0, void 0, function () {
            var head, headBuffer, year, a1, j, i;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        head = {
                            bHeadMark: 'LKB',
                            bVer: 1,
                            bLength: 18,
                            bCmdld: '0110',
                            bSeq: 0,
                            bCks: 1111 //2字节
                        };
                        headBuffer = this.assembleHeadBuffer(head.bHeadMark, head.bVer, head.bLength, head.bCmdld, head.bSeq, head.bCks);
                        year = this.supplementZer0(parseInt(new Date().getFullYear().toString().slice(2, 4)).toString(16), 1) + this.supplementZer0((new Date().getMonth() + 1).toString(16), 1) + this.supplementZer0((new Date().getDate()).toString(16), 1) + this.supplementZer0((new Date().getHours()).toString(16), 1) + this.supplementZer0((new Date().getMinutes().toString(16)), 1) + this.supplementZer0((new Date().getSeconds().toString(16)), 1);
                        headBuffer = headBuffer + year;
                        a1 = new Uint8Array(18);
                        j = 0;
                        for (i = 0; i < headBuffer.length - 1; i++) {
                            a1[i] = parseInt(headBuffer[j] + headBuffer[j + 1], 16);
                            j = j + 2;
                        }
                        return [4 /*yield*/, this.ble.write(this.info, 'FEC0', 'FEC1', a1.buffer)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 蓝牙写入 0020
     * @param buf
     */
    BleProvider.prototype.write0020 = function (buf) {
        return __awaiter(this, void 0, void 0, function () {
            var a1, j, i;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        a1 = new Uint8Array(18);
                        this.dialog.showAlert('0020提示', buf);
                        j = 0;
                        for (i = 0; i < buf.length - 1; i++) {
                            a1[i] = parseInt(buf[j] + buf[j + 1], 16);
                            j = j + 2;
                        }
                        // await this.notify()
                        return [4 /*yield*/, this.ble.write(this.info, 'FEC0', 'FEC1', a1.buffer)];
                    case 1:
                        // await this.notify()
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 蓝牙写入 0300
     * @param buf
     */
    BleProvider.prototype.write0030 = function () {
        return __awaiter(this, void 0, void 0, function () {
            var head, headBuffer, a1, j, i;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        head = {
                            bHeadMark: 'LKB',
                            bVer: 1,
                            bLength: 12,
                            bCmdld: '0300',
                            bSeq: 0,
                            bCks: 1111 //2字节
                        };
                        headBuffer = this.assembleHeadBuffer(head.bHeadMark, head.bVer, head.bLength, head.bCmdld, head.bSeq, head.bCks);
                        a1 = new Uint8Array(12);
                        j = 0;
                        for (i = 0; i < headBuffer.length - 1; i++) {
                            a1[i] = parseInt(headBuffer[j] + headBuffer[j + 1], 16);
                            j = j + 2;
                        }
                        return [4 /*yield*/, this.ble.write(this.info, 'FEC0', 'FEC1', a1.buffer)];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 蓝牙连接
     */
    BleProvider.prototype.connect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var loading;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        loading = this.loadingCtrl.create({
                            content: '蓝牙连接中...' //数据加载中显示
                        });
                        loading.present();
                        return [4 /*yield*/, this.ble.connect(this.info).subscribe(function (res) {
                                _this.notify();
                                _this.write0030();
                                _this.device_state = 'on';
                                var this2 = _this;
                                setTimeout(function () {
                                    loading.dismiss();
                                    this2.dialog.showAlert('蓝牙连接', JSON.stringify(this.info));
                                }, 5000);
                            }, function (res) {
                                _this.device_state = 'off';
                                _this.dialog.showAlert('蓝牙连接失败', '');
                                loading.dismiss();
                            })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    /**
     * 蓝牙读取
     */
    BleProvider.prototype.read = function () {
        var _this = this;
        // 设备
        this.ble.read(this.info, 'FEC0', 'FEC2').then(function (buffer) {
            _this.dialog.showAlert('提示', String.fromCharCode.apply(null, new Uint8Array(buffer)));
        });
    };
    /**
     * 蓝牙监听
     */
    BleProvider.prototype.notify = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var a;
            return __generator(this, function (_a) {
                a = '';
                // this.dialog.showAlert('设备监听提示', JSON.stringify(oldDeviceInfo.length));
                this.ble.startNotification(this.info, 'FEC0', 'FEC2').subscribe(function (buffer) {
                    a = '';
                    var adData = (new Uint8Array(buffer)).toString().split(',');
                    for (var _i = 0, adData_3 = adData; _i < adData_3.length; _i++) {
                        var b = adData_3[_i];
                        a = a + _this.supplementZer0(parseInt(b).toString(16), 1);
                    }
                    if (a[0].toLowerCase() === '4' && a[1].toLowerCase() === 'c' && a[2].toLowerCase() === '4' && a[3].toLowerCase() === 'b' && a[4].toLowerCase() === '4' && a[5].toLowerCase() === '2') {
                        // this.dialog.showAlert('监听提示', a);
                        if (a[12] === '0' && a[13] === '2' && a[14] === '0' && a[15] === '1') {
                            if (a[a.length - 1] === '0' && a[a.length - 2] === '0') {
                                _this.dialog.showAlert('放电成功', '');
                                _this.disconect();
                            }
                            else {
                                _this.dialog.showAlert('放电失败', '');
                                _this.disconect();
                            }
                        }
                    }
                    else {
                        var info_1 = {
                            rc_index: a[0] + a[1],
                            chargingtimerequest: a[2] + a[3] + a[4] + a[5],
                            chargingtime: a[6] + a[7] + a[8] + a[9],
                            userid: a[10] + a[11] + a[12] + a[13] + a[14] + a[15] + a[16] + a[17],
                            deviceid: a[18] + a[19] + a[20] + a[21] + a[22] + a[23] + a[24] + a[25],
                            datetime: a[26] + a[27] + a[28] + a[29] + a[30] + a[31] + a[32] + a[33] + a[34] + a[35] + a[36] + a[37],
                            upload: 0,
                            power_unit_id: _this.power_unit_id,
                            notifyInfo: a,
                        };
                        if (info_1.chargingtime.toLowerCase() === 'ffff') {
                            info_1.chargingtime = '0';
                        }
                        _this.deviceInfo.find(function (data) { return data.notifyInfo === info_1.notifyInfo; }).then(function (oldDeviceInfo) {
                            if (oldDeviceInfo.length > 0) {
                                // this.dialog.showAlert('设备监听提示1', '已存在');
                            }
                            else {
                                _this.deviceInfo.save(info_1);
                                _this.dialog.showAlert('设备监听提示2', JSON.stringify(info_1));
                            }
                        });
                    }
                });
                return [2 /*return*/];
            });
        });
    };
    /**
     * 蓝牙停止监听
     */
    BleProvider.prototype.stopnotify = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.ble.stopNotification(this.info, 'FEC0', 'FEC2').then(function (buffer) {
                    // this.dialog.showAlert('提示', String.fromCharCode.apply(null, new Uint8Array(buffer)));
                });
                return [2 /*return*/];
            });
        });
    };
    /**
     * 蓝牙断开
     */
    BleProvider.prototype.disconect = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.device_state === 'off') {
                    return [2 /*return*/];
                }
                this.ble.disconnect(this.info).then(function (res) {
                    _this.device_state = 'off';
                    _this.dialog.showAlert('断开连接', JSON.stringify(_this.info));
                });
                return [2 /*return*/];
            });
        });
    };
    /**
     * 蓝牙状态监听
     */
    BleProvider.prototype.state = function () {
        var _this = this;
        this.ble.startStateNotifications().subscribe(function (state) {
            _this.dialog.showAlert('蓝牙状态监听', state);
            _this.device_state = state;
            if (state == 'off') {
                _this.dialog.showAlert('提示', '蓝牙已关闭');
            }
        });
    };
    /**
     * 蓝牙停止状态监听
     */
    BleProvider.prototype.stopstate = function () {
        this.ble.stopStateNotifications().then(function (state) {
        });
    };
    BleProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_common_http__["b" /* HttpClient */],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_ble__["a" /* BLE */],
            __WEBPACK_IMPORTED_MODULE_4__providers_dialog_dialog__["a" /* DialogProvider */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_device__["a" /* Device */],
            __WEBPACK_IMPORTED_MODULE_5__providers_service_deviceInfo_data_service__["a" /* DeviceInfoDataService */],
            __WEBPACK_IMPORTED_MODULE_6_ionic_angular__["LoadingController"]])
    ], BleProvider);
    return BleProvider;
}());

//# sourceMappingURL=ble.js.map

/***/ }),

/***/ 377:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccountDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var AccountDataService = (function (_super) {
    __extends(AccountDataService, _super);
    function AccountDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AccountDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'account';
        _super.prototype.onInit.call(this);
    };
    AccountDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], AccountDataService);
    return AccountDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=account-data.service.js.map

/***/ }),

/***/ 378:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AboutusDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var AboutusDataService = (function (_super) {
    __extends(AboutusDataService, _super);
    function AboutusDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AboutusDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'aboutus';
        _super.prototype.onInit.call(this);
    };
    AboutusDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], AboutusDataService);
    return AboutusDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=aboutus-data.service.js.map

/***/ }),

/***/ 379:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChargDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ChargDataService = (function (_super) {
    __extends(ChargDataService, _super);
    function ChargDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ChargDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'charg';
        _super.prototype.onInit.call(this);
    };
    ChargDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], ChargDataService);
    return ChargDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=charg-data.service.js.map

/***/ }),

/***/ 380:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ComplainDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ComplainDataService = (function (_super) {
    __extends(ComplainDataService, _super);
    function ComplainDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ComplainDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'complain';
        _super.prototype.onInit.call(this);
    };
    ComplainDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], ComplainDataService);
    return ComplainDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=complain-data.service.js.map

/***/ }),

/***/ 381:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HelpDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var HelpDataService = (function (_super) {
    __extends(HelpDataService, _super);
    function HelpDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HelpDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'help';
        _super.prototype.onInit.call(this);
    };
    HelpDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], HelpDataService);
    return HelpDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=help-data.service.js.map

/***/ }),

/***/ 382:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomeDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var HomeDataService = (function (_super) {
    __extends(HomeDataService, _super);
    function HomeDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HomeDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'home';
        _super.prototype.onInit.call(this);
    };
    HomeDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], HomeDataService);
    return HomeDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=home-data.service.js.map

/***/ }),

/***/ 383:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChargstationService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var ChargstationService = (function (_super) {
    __extends(ChargstationService, _super);
    function ChargstationService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ChargstationService.prototype.onInit = function () {
        this.ENTITY_NAME = 'chargstation';
        _super.prototype.onInit.call(this);
    };
    ChargstationService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], ChargstationService);
    return ChargstationService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=chargstation.service.js.map

/***/ }),

/***/ 384:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return QuestionDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var QuestionDataService = (function (_super) {
    __extends(QuestionDataService, _super);
    function QuestionDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    QuestionDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'question';
        _super.prototype.onInit.call(this);
    };
    QuestionDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], QuestionDataService);
    return QuestionDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=question-data.service.js.map

/***/ }),

/***/ 385:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(386);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(390);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 390:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__app_component__ = __webpack_require__(391);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common_http__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ionic_angular__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_storage__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_img_viewer__ = __webpack_require__(276);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ion_multi_picker__ = __webpack_require__(458);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_ion_multi_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ion_multi_picker__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_status_bar__ = __webpack_require__(266);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_splash_screen__ = __webpack_require__(267);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_code_push__ = __webpack_require__(271);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_ble__ = __webpack_require__(162);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_network__ = __webpack_require__(373);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ionic_native_device__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__jiguang_ionic_jpush__ = __webpack_require__(273);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15_jmessage_chenyu__ = __webpack_require__(275);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__providers_wechat_wechat__ = __webpack_require__(268);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__providers_event_event__ = __webpack_require__(160);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__providers_storage_storage__ = __webpack_require__(88);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__providers_dialog_dialog__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__providers_http_http__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__providers_httptiming_httptiming__ = __webpack_require__(461);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__providers_sha1_sha1__ = __webpack_require__(269);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__providers_files_files__ = __webpack_require__(726);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__providers_units_units__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__providers_codepush_codepush__ = __webpack_require__(270);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__providers_jpush_jpush__ = __webpack_require__(272);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__providers_jmessage_jmessage__ = __webpack_require__(274);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__providers_user_info_user_info__ = __webpack_require__(372);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__providers_ble_ble__ = __webpack_require__(376);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__providers_service_user_data_service__ = __webpack_require__(375);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__providers_service_home_data_service__ = __webpack_require__(382);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__providers_service_account_data_service__ = __webpack_require__(377);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__providers_service_charg_data_service__ = __webpack_require__(379);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__providers_service_complain_data_service__ = __webpack_require__(380);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__providers_service_chargstation_service__ = __webpack_require__(383);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__providers_service_question_data_service__ = __webpack_require__(384);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__providers_service_help_data_service__ = __webpack_require__(381);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__providers_service_aboutus_data_service__ = __webpack_require__(378);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__providers_service_order_data_service__ = __webpack_require__(374);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__providers_service_mtc_service__ = __webpack_require__(727);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__providers_service_deviceInfo_data_service__ = __webpack_require__(161);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










































var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_0__app_component__["a" /* MyApp */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["c" /* HttpClientModule */],
                __WEBPACK_IMPORTED_MODULE_6_ionic_img_viewer__["b" /* IonicImageViewerModule */],
                __WEBPACK_IMPORTED_MODULE_7_ion_multi_picker__["MultiPickerModule"],
                __WEBPACK_IMPORTED_MODULE_4_ionic_angular__["IonicModule"].forRoot(__WEBPACK_IMPORTED_MODULE_0__app_component__["a" /* MyApp */], {
                    backButtonText: '返回',
                    tabsHideOnSubPages: 'true',
                    iconMode: 'ios',
                    mode: 'ios',
                }, {
                    links: [
                        { loadChildren: '../pages/about-us/about-us.module#AboutUsPageModule', name: 'AboutUsPage', segment: 'about-us', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/account/account.module#AccountPageModule', name: 'AccountPage', segment: 'account', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/center/center.module#CenterPageModule', name: 'CenterPage', segment: 'center', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/changepwd/changepwd.module#ChangepwdPageModule', name: 'ChangepwdPage', segment: 'changepwd', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/charging-account/charging-account.module#ChargingAccountPageModule', name: 'ChargingAccountPage', segment: 'charging-account', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/charging-list/charging-list.module#ChargingListPageModule', name: 'ChargingListPage', segment: 'charging-list', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/complain-record/complain-record.module#ComplainRecordPageModule', name: 'ComplainRecordPage', segment: 'complain-record', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/complain/complain.module#ComplainPageModule', name: 'ComplainPage', segment: 'complain', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/forget-pwd/forget-pwd.module#ForgetPwdPageModule', name: 'ForgetPwdPage', segment: 'forget-pwd', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/help/help.module#HelpPageModule', name: 'HelpPage', segment: 'help', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/home/home.module#HomePageModule', name: 'HomePage', segment: 'home', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/img-edit/img-edit.module#ImgEditPageModule', name: 'ImgEditPage', segment: 'img-edit', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/login/dio/login2.module#Login2PageModule', name: 'Login2Page', segment: 'login2', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/login/login.module#LoginPageModule', name: 'LoginPage', segment: 'login', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/loacl-account/loacl-account.module#LoaclAccountPageModule', name: 'LoaclAccountPage', segment: 'loacl-account', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/device-select/device-select.module#DeviceSelectPageModule', name: 'DeviceSelectPage', segment: 'device-select', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/near/near.module#NearPageModule', name: 'NearPage', segment: 'near', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/my-coupons/my-coupons.module#MyCouponsPageModule', name: 'MyCouponsPage', segment: 'my-coupons', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/news-detail/news-detail.module#NewsDetailPageModule', name: 'NewsDetailPage', segment: 'news-detail', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/nickname-edit/nickname-edit.module#NicknameEditPageModule', name: 'NicknameEditPage', segment: 'nickname-edit', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/node-list/node-list.module#NodeListPageModule', name: 'NodeListPage', segment: 'node-list', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/personal-message/personal-message.module#PersonalMessagePageModule', name: 'PersonalMessagePage', segment: 'personal-message', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/register/register.module#RegisterPageModule', name: 'RegisterPage', segment: 'register', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/question-and-answer/question-and-answer.module#QuestionAndAnswerPageModule', name: 'QuestionAndAnswerPage', segment: 'question-and-answer', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/tabs/tabs.module#TabsPageModule', name: 'TabsPage', segment: 'tabs', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/time-select/time-select.module#TimeSelectPageModule', name: 'TimeSelectPage', segment: 'time-select', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/setting/setting.module#SettingPageModule', name: 'SettingPage', segment: 'setting', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/to-pay/dialog/pay-my-coupons.module#PayMyCouponsPageModule', name: 'PayMyCouponsPage', segment: 'pay-my-coupons', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/to-pay/to-pay.module#ToPayPageModule', name: 'ToPayPage', segment: 'to-pay', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/user-agreement/user-agreement.module#UserAgreementPageModule', name: 'UserAgreementPage', segment: 'user-agreement', priority: 'low', defaultHistory: [] }
                    ]
                }),
                __WEBPACK_IMPORTED_MODULE_5__ionic_storage__["a" /* IonicStorageModule */].forRoot({
                    name: '__mydb',
                    driverOrder: ['indexeddb', 'sqlite', 'websql']
                })
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_4_ionic_angular__["IonicApp"]],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_0__app_component__["a" /* MyApp */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_8__ionic_native_status_bar__["a" /* StatusBar */],
                __WEBPACK_IMPORTED_MODULE_9__ionic_native_splash_screen__["a" /* SplashScreen */],
                __WEBPACK_IMPORTED_MODULE_10__ionic_native_code_push__["a" /* CodePush */],
                __WEBPACK_IMPORTED_MODULE_13__ionic_native_device__["a" /* Device */],
                __WEBPACK_IMPORTED_MODULE_14__jiguang_ionic_jpush__["a" /* JPush */],
                __WEBPACK_IMPORTED_MODULE_15_jmessage_chenyu__["a" /* JmessageChenyu */],
                __WEBPACK_IMPORTED_MODULE_11__ionic_native_ble__["a" /* BLE */],
                __WEBPACK_IMPORTED_MODULE_12__ionic_native_network__["a" /* Network */],
                [
                    { provide: __WEBPACK_IMPORTED_MODULE_1__angular_core__["ErrorHandler"], useClass: __WEBPACK_IMPORTED_MODULE_4_ionic_angular__["IonicErrorHandler"] },
                    { provide: __WEBPACK_IMPORTED_MODULE_3__angular_common_http__["a" /* HTTP_INTERCEPTORS */], useClass: __WEBPACK_IMPORTED_MODULE_21__providers_httptiming_httptiming__["a" /* HttptimingProvider */], multi: true }
                ],
                __WEBPACK_IMPORTED_MODULE_16__providers_wechat_wechat__["a" /* WechatProvider */],
                __WEBPACK_IMPORTED_MODULE_17__providers_event_event__["a" /* EventProvider */],
                __WEBPACK_IMPORTED_MODULE_18__providers_storage_storage__["a" /* StorageProvider */],
                __WEBPACK_IMPORTED_MODULE_19__providers_dialog_dialog__["a" /* DialogProvider */],
                __WEBPACK_IMPORTED_MODULE_20__providers_http_http__["a" /* HttpProvider */],
                __WEBPACK_IMPORTED_MODULE_21__providers_httptiming_httptiming__["a" /* HttptimingProvider */],
                __WEBPACK_IMPORTED_MODULE_22__providers_sha1_sha1__["a" /* Sha1Provider */],
                __WEBPACK_IMPORTED_MODULE_23__providers_files_files__["a" /* FilesProvider */],
                __WEBPACK_IMPORTED_MODULE_24__providers_units_units__["a" /* UnitsProvider */],
                __WEBPACK_IMPORTED_MODULE_25__providers_codepush_codepush__["a" /* CodepushProvider */],
                __WEBPACK_IMPORTED_MODULE_26__providers_jpush_jpush__["a" /* JpushProvider */],
                __WEBPACK_IMPORTED_MODULE_27__providers_jmessage_jmessage__["a" /* JmessageProvider */],
                __WEBPACK_IMPORTED_MODULE_28__providers_user_info_user_info__["a" /* UserInfoProvider */],
                __WEBPACK_IMPORTED_MODULE_29__providers_ble_ble__["a" /* BleProvider */],
                __WEBPACK_IMPORTED_MODULE_30__providers_service_user_data_service__["a" /* UserDataService */],
                __WEBPACK_IMPORTED_MODULE_31__providers_service_home_data_service__["a" /* HomeDataService */],
                __WEBPACK_IMPORTED_MODULE_32__providers_service_account_data_service__["a" /* AccountDataService */],
                __WEBPACK_IMPORTED_MODULE_33__providers_service_charg_data_service__["a" /* ChargDataService */],
                __WEBPACK_IMPORTED_MODULE_34__providers_service_complain_data_service__["a" /* ComplainDataService */],
                __WEBPACK_IMPORTED_MODULE_35__providers_service_chargstation_service__["a" /* ChargstationService */],
                __WEBPACK_IMPORTED_MODULE_36__providers_service_question_data_service__["a" /* QuestionDataService */],
                __WEBPACK_IMPORTED_MODULE_37__providers_service_help_data_service__["a" /* HelpDataService */],
                __WEBPACK_IMPORTED_MODULE_38__providers_service_aboutus_data_service__["a" /* AboutusDataService */],
                __WEBPACK_IMPORTED_MODULE_39__providers_service_order_data_service__["a" /* OrderDataService */],
                __WEBPACK_IMPORTED_MODULE_40__providers_service_mtc_service__["a" /* MtcDataService */],
                __WEBPACK_IMPORTED_MODULE_41__providers_service_deviceInfo_data_service__["a" /* DeviceInfoDataService */],
            ]
        })
    ], AppModule);
    return AppModule;
}());

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ 391:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__ = __webpack_require__(266);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__ = __webpack_require__(267);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_wechat_wechat__ = __webpack_require__(268);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_units_units__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_codepush_codepush__ = __webpack_require__(270);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_jpush_jpush__ = __webpack_require__(272);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_jmessage_jmessage__ = __webpack_require__(274);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var MyApp = (function () {
    function MyApp(platform, statusBar, splashScreen, wechat, units, codepush, jpush, jmessage) {
        var _this = this;
        this.platform = platform;
        this.statusBar = statusBar;
        this.splashScreen = splashScreen;
        this.wechat = wechat;
        this.units = units;
        this.codepush = codepush;
        this.jpush = jpush;
        this.jmessage = jmessage;
        this.platform.ready().then(function () {
            // Okay, so the platform is ready and our plugins are available.
            // Here you can do any higher level native things you might need.
            //判断微信页面
            if (_this.units.isWechat()) {
                _this.wechat.wechat_login();
                _this.rootPage = "TabsPage";
            }
            else {
                _this.rootPage = "LoginPage";
            }
            _this.statusBar.styleDefault();
            _this.splashScreen.hide();
            //格式化
            if (_this.platform.is('cordova')) {
                //app更新
                _this.codepush.initCodePush();
                //极光推送
                _this.jpush.initJpush();
                _this.jpush.receiveNotification();
                _this.jpush.openNotification();
                //极光IM
                _this.jmessage.initJmessage();
            }
        });
    }
    MyApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({template:/*ion-inline-start:"E:\APP\mzycApp\src\app\app.html"*/'<ion-nav [root]="rootPage"></ion-nav>'/*ion-inline-end:"E:\APP\mzycApp\src\app\app.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__["a" /* StatusBar */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__["a" /* SplashScreen */],
            __WEBPACK_IMPORTED_MODULE_4__providers_wechat_wechat__["a" /* WechatProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_units_units__["a" /* UnitsProvider */],
            __WEBPACK_IMPORTED_MODULE_6__providers_codepush_codepush__["a" /* CodepushProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_jpush_jpush__["a" /* JpushProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_jmessage_jmessage__["a" /* JmessageProvider */]])
    ], MyApp);
    return MyApp;
}());

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ 414:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__database__ = __webpack_require__(415);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__database__["a"]; });
/* unused harmony reexport Store */
/*--------------------------------------------------------------------------

 smoke-database

 The MIT License (MIT)

 Copyright (c) 2017 Haydn Paterson (sinclair) <haydn.developer@gmail.com>

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

---------------------------------------------------------------------------*/


//# sourceMappingURL=index.js.map

/***/ }),

/***/ 415:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Store */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Database; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__query__ = __webpack_require__(416);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__driver__ = __webpack_require__(417);
/*--------------------------------------------------------------------------

 smoke-database

 The MIT License (MIT)

 Copyright (c) 2017 Haydn Paterson (sinclair) <haydn.developer@gmail.com>

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

---------------------------------------------------------------------------*/
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var _this = this;


/**
 * resolves the record parameter, allowing for multiple overloads of the record sets
 * passed in on insert(), update(), delete().
 * @param {RecordParameter<T>} records the record parameter to resolve.
 * @returns {Promise<T[]>}
 */
var resolve_record_parameter = function (records) { return __awaiter(_this, void 0, void 0, function () {
    var _a;
    return __generator(this, function (_b) {
        switch (_b.label) {
            case 0:
                if (!(records === undefined)) return [3 /*break*/, 1];
                return [2 /*return*/, []];
            case 1:
                if (!(records instanceof Array)) return [3 /*break*/, 2];
                return [2 /*return*/, records];
            case 2:
                if (!(records instanceof Promise)) return [3 /*break*/, 5];
                _a = resolve_record_parameter;
                return [4 /*yield*/, records];
            case 3: return [4 /*yield*/, _a.apply(void 0, [_b.sent()])];
            case 4: return [2 /*return*/, _b.sent()];
            case 5:
                if (!(records instanceof __WEBPACK_IMPORTED_MODULE_0__query__["a" /* Queryable */])) return [3 /*break*/, 7];
                return [4 /*yield*/, records.collect()];
            case 6: return [2 /*return*/, _b.sent()];
            case 7: return [2 /*return*/, [records]];
        }
    });
}); };
/**
 * Store
 *
 * A store abstraction over indexeddb object stores.
 */
var Store = (function () {
    /**
     * creates a new store instance.
     * @param {Database} database the database associated with this store.
     * @param {string} storename the name of this store.
     * @returns {Store}
     */
    function Store(database, storename) {
        this.database = database;
        this.storename = storename;
    }
    /**
     * returns the number of records in this store.
     * @returns {Promise<number>}
     */
    Store.prototype.count = function () {
        return __awaiter(this, void 0, void 0, function () {
            var db;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.database.db()];
                    case 1:
                        db = _a.sent();
                        return [2 /*return*/, __WEBPACK_IMPORTED_MODULE_1__driver__["store_record_count"](db, this.storename)];
                }
            });
        });
    };
    /**
     * inserts these records into the store.
     * @param {RecordParameter<TRecord>} records the records to insert.
     * @returns {Promise<any>}
     */
    Store.prototype.insert = function (records) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _b = (_a = __WEBPACK_IMPORTED_MODULE_1__driver__).store_insert_records;
                        return [4 /*yield*/, this.database.db()];
                    case 1:
                        _c = [_d.sent(), this.storename];
                        return [4 /*yield*/, resolve_record_parameter(records)];
                    case 2: return [2 /*return*/, _b.apply(_a, _c.concat([_d.sent()]))];
                }
            });
        });
    };
    /**
     * updates the given records in this store.
     * @param {RecordParameter<TRecord>} records the record to update.
     * @returns {Promise<any>}
     */
    Store.prototype.update = function (records) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _b = (_a = __WEBPACK_IMPORTED_MODULE_1__driver__).store_update_records;
                        return [4 /*yield*/, this.database.db()];
                    case 1:
                        _c = [_d.sent(), this.storename];
                        return [4 /*yield*/, resolve_record_parameter(records)];
                    case 2: return [2 /*return*/, _b.apply(_a, _c.concat([_d.sent()]))];
                }
            });
        });
    };
    /**
     * deletes the given records from this store.
     * @param {RecordParameter<TRecord>} records the records to delete.
     * @returns {Promise<any>}
     */
    Store.prototype.delete = function (records) {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        _b = (_a = __WEBPACK_IMPORTED_MODULE_1__driver__).store_delete_records;
                        return [4 /*yield*/, this.database.db()];
                    case 1:
                        _c = [_d.sent(), this.storename];
                        return [4 /*yield*/, resolve_record_parameter(records)];
                    case 2: return [2 /*return*/, _b.apply(_a, _c.concat([_d.sent()]))];
                }
            });
        });
    };
    /**
     * returns a record by its key.
     * @param {string} key the key of the record to get.
     * @returns {Promise<Record>}
     */
    Store.prototype.get = function (key) {
        return __awaiter(this, void 0, void 0, function () {
            var db;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.database.db()];
                    case 1:
                        db = _a.sent();
                        return [2 /*return*/, __WEBPACK_IMPORTED_MODULE_1__driver__["store_get_record"](db, this.storename, key)];
                }
            });
        });
    };
    /**
     * returns a queryable object.
     * @param {RecordReadFunction} func the function to receive records.
     * @returns {Queryable<TRecord>} a promise resolved on completion.
     */
    Store.prototype.query = function () {
        var _this = this;
        return new __WEBPACK_IMPORTED_MODULE_0__query__["a" /* Queryable */](new __WEBPACK_IMPORTED_MODULE_0__query__["b" /* Source */](function (context) { return __awaiter(_this, void 0, void 0, function () {
            var db;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.database.db()];
                    case 1:
                        db = _a.sent();
                        __WEBPACK_IMPORTED_MODULE_1__driver__["store_read_records"](db, this.storename, function (event) {
                            switch (event.type) {
                                case "data":
                                    context.next(event.data);
                                    break;
                                case "error":
                                    context.error(event.error);
                                    break;
                                case "end": context.end();
                            }
                        });
                        return [2 /*return*/];
                }
            });
        }); }));
    };
    return Store;
}());

/**
 * Database
 *
 * A indexeddb database abstraction.
 */
var Database = (function () {
    /**
     * creates a new Database
     * @param {string} databasename the name of this database.
     * @param {Schematics} schematics the schematics of this database.
     * @returns {Database}
     */
    function Database(databasename, schematics) {
        this.databasename = databasename;
        this.schematics = schematics;
        this.database = undefined;
    }
    /**
     * returns the internal indexeddb for this database.
     * @returns {IDBDatabase}
     */
    Database.prototype.db = function () {
        return __awaiter(this, void 0, void 0, function () {
            var opened, updated;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!!this.database) return [3 /*break*/, 3];
                        return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_1__driver__["database_open"](this.databasename)];
                    case 1:
                        opened = _a.sent();
                        return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_1__driver__["database_update"](opened, this.schematics)];
                    case 2:
                        updated = _a.sent();
                        this.database = updated;
                        _a.label = 3;
                    case 3: return [2 /*return*/, this.database];
                }
            });
        });
    };
    /**
     * returns a store object for this database.
     * @param {string} storename the name of the store.
     * @returns {Store}
     */
    Database.prototype.store = function (storename) {
        return new Store(this, storename);
    };
    /**
     * deletes the database with the given name.
     * @param {string} databasename the name of the database to delete.
     * @returns {Promise<any>}
     */
    Database.delete = function (databasename) {
        return __WEBPACK_IMPORTED_MODULE_1__driver__["database_delete"](databasename);
    };
    /**
     * convenience function to create uuid4 keys.
     * @returns {string}
     */
    Database.createKey = function () {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    };
    return Database;
}());

//# sourceMappingURL=database.js.map

/***/ }),

/***/ 416:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export SourceContext */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return Source; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Queryable; });
/*--------------------------------------------------------------------------

 smoke-database

 The MIT License (MIT)

 Copyright (c) 2017 Haydn Paterson (sinclair) <haydn.developer@gmail.com>

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

---------------------------------------------------------------------------*/
/**
 * SourceContext
 *
 * Provides a event source in which to dispatch streaming events.
 */
var SourceContext = (function () {
    /**
     * creates a new source context.
     * @param {SourceNextFunction<T>} onnext the next function.
     * @param {SourceErrorFunction} onerror the error function.
     * @param {SourceEndFunction} onend the end function.
     * @returns {SourceContext<T>}
     */
    function SourceContext(onnext, onerror, onend) {
        this.onnext = onnext;
        this.onerror = onerror;
        this.onend = onend;
        this.ended = false;
    }
    /**
     * emits the given value from this source.
     * @param {T} value the value to emit.
     * @returns {void}
     */
    SourceContext.prototype.next = function (value) {
        if (this.ended === false) {
            this.onnext(value);
        }
    };
    /**
     * emits an error from this source.
     * @param {string} value the error to emit.
     * @returns {void}
     */
    SourceContext.prototype.error = function (value) {
        if (this.ended === false) {
            this.ended = true;
            this.onerror(value);
            this.onend();
        }
    };
    /**
     * emits a end signal from this source.
     * @returns {void}
     */
    SourceContext.prototype.end = function () {
        if (this.ended === false) {
            this.ended = true;
            this.onend();
        }
    };
    return SourceContext;
}());

var STREAM_VALUE = 0;
var STREAM_ERROR = 1;
var STREAM_END = 2;
/**
 * Source
 *
 * Provides a mechansism to emit streams of values.
 */
var Source = (function () {
    /**
     * creates a new source.
     * @param {(SourceContext<T>) => void} func the source function.
     * @returns {Source<T>}
     */
    function Source(func) {
        this.func = func;
    }
    /**
     * subscribes to events emitted from this source.
     * @param {SourceEventFunction<T>} func the read function.
     * @returns {void}
     */
    Source.prototype.read = function (func) {
        var context = new SourceContext(function (value) { return func({ type: 0, value: value }); }, function (error) { return func({ type: 1, error: error }); }, function () { return func({ type: 2 }); });
        this.func(context);
    };
    return Source;
}());

/**
 * Queryable
 *
 * Queryable interface for lazy sequences of values.
 */
var Queryable = (function () {
    /**
     * creates a new queryable from the given source.
     * @param {Source<T>} source the source to query.
     * @returns {Queryable<T>}
     */
    function Queryable(source) {
        this.source = source;
    }
    /**
     * Applies an accumulator function over a sequence.
     * @param {(acc: U, current: T, index?: number): U} func the aggregate function.
     * @returns {Promise<U>}
     */
    Queryable.prototype.aggregate = function (func, initial) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        initial = func(initial, element.value, index);
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(initial);
                        break;
                }
            });
        });
    };
    /**
     * Determines whether all the elements of a sequence satisfy a condition.
     * @param {(value: T): boolean} func the all function.
     * @returns {Promise<boolean>}
     */
    Queryable.prototype.all = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (func(element.value, index) === false) {
                            resolve(false);
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(true);
                        break;
                }
            });
        });
    };
    /**
     * Determines whether a sequence contains any elements that meet this criteria.
     * @param {(value: T): boolean} func the any function.
     * @returns {Promise<boolean>}
     */
    Queryable.prototype.any = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (func(element.value, index) === true) {
                            resolve(true);
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(false);
                        break;
                }
            });
        });
    };
    /**
     * Computes the average of a sequence of numeric values.
     * @param {(value:T): number} func the average function.
     * @returns {Promise<number>}
     */
    Queryable.prototype.average = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            var acc = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        acc += func(element.value, index);
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve((index > 0) ? acc / index : 0);
                        break;
                }
            });
        });
    };
    /**
     * preforms a type cast from the source type T to U. Only useful to typescript.
     * @returns {Queryable<U>}
     */
    Queryable.prototype.cast = function () {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        context.next(element.value);
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Concatenates two queryable sequences returning a new queryable that enumerates the first, then the second.
     * @param {Queryable<T>} queryable the queryable to concat.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.concat = function (queryable) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        context.next(element.value);
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                    case STREAM_END:
                        queryable.source.read(function (element) {
                            switch (element.type) {
                                case STREAM_VALUE:
                                    context.next(element.value);
                                    break;
                                case STREAM_ERROR:
                                    context.error(element.error);
                                    break;
                                case STREAM_END:
                                    context.end();
                                    break;
                            }
                        });
                        break;
                }
            });
        }));
    };
    /**
     * Returns the number of elements in a sequence.
     * @returns Promise<number>
     */
    Queryable.prototype.count = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var count = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        count += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(count);
                        break;
                }
            });
        });
    };
    /**
     * Returns distinct elements from a sequence by using the default equality comparer to compare values.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.distinct = function () {
        var _this = this;
        return new Queryable(new Source(function (context) {
            var acc = new Array();
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (acc.indexOf(element.value) === -1) {
                            acc.push(element.value);
                            context.next(element.value);
                        }
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        acc = [];
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Returns the element at the specified index, if no element exists, reject.
     * @param {number} index the element index.
     * @returns {Promise<T>}
     */
    Queryable.prototype.elementAt = function (index) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index0 = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        index0 += 1;
                        if (index0 === index) {
                            resolve(element.value);
                        }
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        reject("no element at [" + index + "]");
                        break;
                }
            });
        });
    };
    /**
     * Returns the element at the specified index, if no element exists, resolve undefined.
     * @param {number} index the element index.
     * @returns {Promise<T>}
     */
    Queryable.prototype.elementAtOrDefault = function (index) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index0 = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        index0 += 1;
                        if (index0 === index) {
                            resolve(element.value);
                        }
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(undefined);
                        break;
                }
            });
        });
    };
    /**
     * Returns the first element. if no element exists, reject.
     * @returns {Promise<T>}
     */
    Queryable.prototype.first = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var done = false;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (done === false) {
                            done = true;
                            resolve(element.value);
                        }
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        if (done === false) {
                            done = true;
                            reject("no elements in sequence");
                        }
                        break;
                }
            });
        });
    };
    /**
     * Returns the first element. if no element exists, resolve undefined.
     * @returns {Promise<T>}
     */
    Queryable.prototype.firstOrDefault = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var done = false;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (done === false) {
                            done = true;
                            resolve(element.value);
                        }
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        if (done === false) {
                            done = true;
                            resolve(undefined);
                        }
                        break;
                }
            });
        });
    };
    /**
     * Produces the set intersection of two sequences by using the default equality comparer to compare values.
     * @param {Queryable<T>} queryable the queryable to intersect.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.intersect = function (queryable) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.collect().then(function (buffer) {
                queryable.source.read(function (element) {
                    switch (element.type) {
                        case STREAM_VALUE:
                            if (buffer.indexOf(element.value) !== -1) {
                                context.next(element.value);
                            }
                            break;
                        case STREAM_ERROR:
                            context.error(element.error);
                            break;
                        case STREAM_END:
                            context.end();
                            break;
                    }
                });
            }).catch(function (error) { return context.error(error); });
        }));
    };
    /**
     * Returns the last element in this sequence. if empty, reject.
     * @returns {Promise<T>}
     */
    Queryable.prototype.last = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var current = undefined;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        current = element.value;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        if (current === undefined) {
                            reject("no elements in sequence");
                        }
                        else {
                            resolve(current);
                        }
                        break;
                }
            });
        });
    };
    /**
     * Returns the last element in this sequence. if empty, resolve undefined.
     * @returns {Promise<T>}
     */
    Queryable.prototype.lastOrDefault = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var current = undefined;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        current = element.value;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(current);
                        break;
                }
            });
        });
    };
    /**
     * Sorts the elements of a sequence in ascending order according to a key. This method requires
     * an internal collect().
     * @param {(value: T): U} func the orderBy function.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.orderBy = function (func) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.collect().then(function (buffer) {
                var sorted = buffer.sort(function (a, b) {
                    var left = func(a);
                    var right = func(b);
                    return +(left > right) || +(left === right) - 1;
                });
                while (sorted.length > 0) {
                    context.next(sorted.shift());
                }
                context.end();
            }).catch(function (error) { return context.error(error); });
        }));
    };
    /**
     * Sorts the elements of a sequence in ascending order according to a key. This method requires
     * an internal collect().
     * @param {(value: T): U} func the orderBy function.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.orderCmpBy = function (func) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.collect().then(function (buffer) {
                var sorted = buffer.sort(func);
                while (sorted.length > 0) {
                    context.next(sorted.shift());
                }
                context.end();
            }).catch(function (error) { return context.error(error); });
        }));
    };
    /**
     * Sorts the elements of a sequence in ascending order according to a key. This method requires
     * an internal collect().
     * @param {(value: T): U} func the orderBy function.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.orderCmpByDescending = function (func) {
        var _this = this;
        var descFunc = function (left, right) {
            return -func(left, right);
        };
        return new Queryable(new Source(function (context) {
            _this.collect().then(function (buffer) {
                var sorted = buffer.sort(descFunc);
                while (sorted.length > 0) {
                    context.next(sorted.shift());
                }
                context.end();
            }).catch(function (error) { return context.error(error); });
        }));
    };
    /**
     * Sorts the elements of a sequence in descending order according to a key. This method requires
     * an internal collect().
     * @param {(value: T): U} func the orderByDescending function.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.orderByDescending = function (func) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.collect().then(function (buffer) {
                var sorted = buffer.sort(function (a, b) {
                    var left = func(a);
                    var right = func(b);
                    return +(left < right) || +(left === right) - 1;
                });
                while (sorted.length > 0) {
                    context.next(sorted.shift());
                }
                context.end();
            }).catch(function (error) { return context.error(error); });
        }));
    };
    /**
     * Inverts the order of the elements in a sequence. This method requires
     * an internal collect().
     * @returns {Queryable<T>}
     */
    Queryable.prototype.reverse = function () {
        var _this = this;
        return new Queryable(new Source(function (context) {
            _this.collect().then(function (buffer) {
                var reversed = buffer.reverse();
                while (reversed.length > 0) {
                    context.next(reversed.shift());
                }
                context.end();
            }).catch(function (error) { return context.error(error); });
        }));
    };
    /**
     * Projects each element of a sequence into a new form.
     * @param {(value:T, index: number): U} func the select function.
     * @returns {Queryable<U>}
     */
    Queryable.prototype.select = function (func) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        context.next(func(element.value, index));
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Projects each element of a sequence to an IEnumerable<T> and combines the resulting sequences into one sequence.
     * @param {(value:T, index: number): Queryable<U>} func the selectMany function.
     * @returns {Queryable<U>}
     */
    Queryable.prototype.selectMany = function (func) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        func(element.value, index).forEach(function (value) {
                            return context.next(value);
                        });
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Returns the only element of a sequence that satisfies a specified condition.
     * @param {(value: T, index: number): boolean} func the single function.
     * @returns {Promise<T>}
     */
    Queryable.prototype.single = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            var elem = undefined;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (func(element.value, index) === true) {
                            if (elem === undefined) {
                                elem = element.value;
                            }
                            else {
                                reject("found multiple elements in this sequence.");
                            }
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        if (elem === undefined) {
                            reject("unable to locate element with the given critera.");
                        }
                        else {
                            resolve(elem);
                        }
                        break;
                }
            });
        });
    };
    /**
     * Returns the only element of a sequence that satisfies a specified condition or null if no such element exists.
     * @param {(value: T, index: number): boolean} func the singleOfDefault function.
     * @returns {Promise<T>}
     */
    Queryable.prototype.singleOrDefault = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            var elem = undefined;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (func(element.value, index) === true) {
                            if (elem === undefined) {
                                elem = element.value;
                            }
                            else {
                                reject("found multiple elements in this sequence.");
                            }
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(elem);
                        break;
                }
            });
        });
    };
    /**
     * Bypasses a specified number of elements in a sequence and then returns the remaining elements.
     * @param {number} count the number of elements to skip.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.skip = function (count) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (index >= count) {
                            context.next(element.value);
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Computes the sum of the sequence of numeric values.
     * @param {(value: T, index: number): number} func the sum function.
     * @returns {Promise<number>}
     */
    Queryable.prototype.sum = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            var acc = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        acc += func(element.value, index);
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(acc);
                        break;
                }
            });
        });
    };
    /**
     * Returns a specified number of contiguous elements from the start of a sequence.
     * @param {number} count the number of elements to take.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.take = function (count) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (index < count) {
                            context.next(element.value);
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Filters a sequence of values based on a predicate.
     * @param {(value: T, index: number): boolean} func the where function.
     * @returns {Queryable<T>}
     */
    Queryable.prototype.where = function (func) {
        var _this = this;
        return new Queryable(new Source(function (context) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        if (func(element.value, index) === true) {
                            context.next(element.value);
                        }
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        context.error(element.error);
                        break;
                    case STREAM_END:
                        context.end();
                        break;
                }
            });
        }));
    };
    /**
     * Enumerates each element in this sequence.
     * @param {(value: T, index: number) => void} func the each function.
     * @returns {Promise<any>}
     */
    Queryable.prototype.each = function (func) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var index = 0;
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        func(element.value, index);
                        index += 1;
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(undefined);
                        break;
                }
            });
        });
    };
    /**
     * Collects the results of this queryable into a array.
     * @returns {Promise<Array<T>>}
     */
    Queryable.prototype.collect = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var buffer = new Array();
            _this.source.read(function (element) {
                switch (element.type) {
                    case STREAM_VALUE:
                        buffer.push(element.value);
                        break;
                    case STREAM_ERROR:
                        reject(element.error);
                        break;
                    case STREAM_END:
                        resolve(buffer);
                        break;
                }
            });
        });
    };
    /**
     * converts the given array into a queryable.
     * @param {Array<T>} array the array to query.
     * @returns {Queryable<T>}
     */
    Queryable.fromArray = function (array) {
        return new Queryable(new Source(function (context) {
            array.forEach(function (value) { return context.next(value); });
            context.end();
        }));
    };
    /**
     * returns a new queryable for the given range.
     * @param {number} from the starting range index.
     * @param {number} to the ending range index.
     * @returns {Queryable<number>}
     */
    Queryable.range = function (from, to) {
        return new Queryable(new Source(function (context) {
            for (var i = from; i < to; i++) {
                context.next(i);
            }
            context.end();
        }));
    };
    return Queryable;
}());

//# sourceMappingURL=query.js.map

/***/ }),

/***/ 417:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "database_open", function() { return database_open; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "database_update", function() { return database_update; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "database_delete", function() { return database_delete; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "store_insert_records", function() { return store_insert_records; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "store_update_records", function() { return store_update_records; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "store_delete_records", function() { return store_delete_records; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "store_record_count", function() { return store_record_count; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "store_read_records", function() { return store_read_records; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "store_get_record", function() { return store_get_record; });
/*--------------------------------------------------------------------------

 smoke-database

 The MIT License (MIT)

 Copyright (c) 2017 Haydn Paterson (sinclair) <haydn.developer@gmail.com>

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

---------------------------------------------------------------------------*/
/**
 * returns the IDBFactory object from the document window.
 * @returns {IDBFactory}
 */
var factorydb = function () {
    var host = window;
    return host.indexedDB
        || host.mozIndexedDB
        || host.webkitIndexedDB
        || host.msIndexedDB
        || host.shimIndexedDB;
};
/**
 * computes the database schematics deltas with the given schematic. This
 * function is used during the database_update() function.
 * @param {IDBDatabase} database the database to compute deltas for.
 * @param {Schematics} schematics the database schematics
 * @returns {ComputeSchematicsDeltaResult}
 */
var compute_schematics_delta = function (database, stores) {
    var compute_creates = function (database, stores) {
        var storenames = database.objectStoreNames;
        return stores.map(function (storename) { return ({
            storename: storename,
            parameter: { keyPath: "key" }
        }); }).filter(function (p) { return !storenames.contains(p.storename); });
    };
    var compute_removes = function (database, stores) {
        var existing = database.objectStoreNames;
        var current = stores;
        var result = [];
        for (var i = 0; i < existing.length; i++) {
            var storename = existing[i];
            if (current.indexOf(storename) === -1) {
                result.push(storename);
            }
        }
        return result;
    };
    return {
        creates: compute_creates(database, stores),
        removes: compute_removes(database, stores)
    };
};
/**
 * opens a database connection.
 * @param {Schema} schema the schema for this database.
 * @param {Promise<IDBDatabase>}
 */
var database_open = function (name) { return new Promise(function (resolve, reject) {
    var factory = factorydb();
    var request = factory.open(name);
    request.addEventListener("error", function () { return reject(request.error); });
    request.addEventListener("success", function () { return resolve(request.result); });
}); };
/**
 * upgrades a existing database with the given additions and removals. the function detects
 * if the database needs to be updated, and if so, upgrades the database, otherwise, this
 * function will return the database passed in.
 * @param {IDBDatabase} database  an existing database.
 * @param {Schematics} schematics the schematics for this datastore.
 * @param {Promise<IDBDatabase>}
 */
var database_update = function (database, schematics) { return new Promise(function (resolve, reject) {
    // extract database info, build add / remove manifest.
    var name = database.name;
    var version = database.version;
    var deltas = compute_schematics_delta(database, schematics);
    // if no changes, then resolve input database (not change)
    if (deltas.creates.length === 0 && deltas.removes.length === 0) {
        resolve(database);
    }
    else {
        database.close();
        var factory = factorydb();
        var request_1 = factory.open(name, version + 1);
        request_1.addEventListener("success", function () { return resolve(request_1.result); });
        request_1.addEventListener("error", function () { return reject(request_1.error); });
        request_1.addEventListener("upgradeneeded", function () {
            var udpated = request_1.result;
            deltas.creates.forEach(function (create) { return udpated.createObjectStore(create.storename, { keyPath: "key" }); });
            deltas.removes.forEach(function (remove) { return udpated.deleteObjectStore(remove); });
        });
    }
}); };
/**
 * deletes a database.
 * @param {string} name the name of the database to delete.
 * @returns {Promise<any>}
 */
var database_delete = function (databasename) { return new Promise(function (resolve, reject) {
    var factory = factorydb();
    var request = factory.deleteDatabase(databasename);
    request.addEventListener("error", function () { return reject(request.error); });
    request.addEventListener("success", function () { return resolve(request.result); });
}); };
/**
 * inserts multiple records into the given database store.
 * @param {IDBDatabase} database the database to insert into.
 * @param {string} store_name the name of the store.
 * @param {Array<any>} records an array of records to insert.
 * returns {Promise<any>}
 */
var store_insert_records = function (database, storename, records) { return new Promise(function (resolve, reject) {
    var transaction = database.transaction([storename], "readwrite");
    transaction.addEventListener("complete", function () { return resolve(); });
    transaction.addEventListener("error", function (error) { return reject(error.target.error); });
    var store = transaction.objectStore(storename);
    records.forEach(function (record) { return store.add(record); });
}); };
/**
 * deletes multiple records into the given database store.
 * @param {IDBDatabase} database the database to insert into.
 * @param {string} storename the name of the store.
 * @param {Array<any>} records an array of records to delete.
 * returns {Promise<any>}
 */
var store_update_records = function (database, storename, records) { return new Promise(function (resolve, reject) {
    var transaction = database.transaction([storename], 'readwrite');
    transaction.addEventListener("complete", function () { return resolve(); });
    transaction.addEventListener("error", function (error) { return reject(error.target.error); });
    var store = transaction.objectStore(storename);
    var request = store.openCursor();
    request.addEventListener("error", function () { return reject(transaction.error); });
    request.addEventListener("success", function (event) {
        var cursor = event.target.result;
        if (cursor !== null) {
            for (var i = 0; i < records.length; i++) {
                if (records[i].key === cursor.key) {
                    cursor.update(records[i]);
                    break;
                }
            }
            cursor.continue();
        }
    });
}); };
/**
 * deletes multiple records into the given database store.
 * @param {IDBDatabase} database the database to insert into.
 * @param {string} storename the name of the store.
 * @param {Array<any>} records an array of records to delete.
 * returns {Promise<any>}
 */
var store_delete_records = function (database, storename, records) { return new Promise(function (resolve, reject) {
    var transaction = database.transaction([storename], 'readwrite');
    transaction.addEventListener("complete", function () { return resolve(); });
    transaction.addEventListener("error", function (error) { return reject(error.target.error); });
    var store = transaction.objectStore(storename);
    records.forEach(function (record) { return store.delete(record.key); });
}); };
/**
 * returns the number of records in this store.
 * @param {IDBDatabase} database the database.
 * @param {string} storename the store to count records.
 * @returns {Promise<number>}
 */
var store_record_count = function (database, storename) { return new Promise(function (resolve, reject) {
    var transaction = database.transaction([storename], 'readonly');
    var store = transaction.objectStore(storename);
    var request = store.count();
    request.addEventListener("success", function (event) { return resolve(request.result); });
    request.addEventListener("error", function (event) { return reject(request.error); });
}); };
/**
 * preforms a linear scan across all records in the store.
 * @param {IDBDatabase} database the database to read from.
 * @param {string} storename the name of the store to read from.
 * @param {StoreReadFunction} func the store read function.
 * @returns {void}
 */
var store_read_records = function (database, storename, func) { return new Promise(function (resolve, reject) {
    var done = false;
    var transaction = database.transaction([storename], 'readonly');
    transaction.addEventListener("error", function () { return reject(transaction.error); });
    transaction.addEventListener("complete", function () { return resolve(); });
    var store = transaction.objectStore(storename);
    var request = store.openCursor();
    request.addEventListener("error", function () {
        if (done === false) {
            func({ type: "error", error: request.error });
            func({ type: "end" });
            reject(request.error);
            done = true;
        }
    });
    request.addEventListener("success", function (event) {
        if (done === false) {
            var cursor = event.target.result;
            if (cursor) {
                var record = { key: cursor.key };
                for (var key in cursor.value) {
                    record[key] = cursor.value[key];
                }
                func({ type: "data", data: record });
                cursor.continue();
            }
            else {
                func({ type: "end" });
                done = true;
            }
        }
    });
}); };
/**
 * returns a record from the given key.
 * @param {IDBDatabase} database the database to get from.
 * @param {string} storename the name of the store to get from.
 * @param {string | number} key the key to get.
 * @returns {Promise<Record>}
 */
var store_get_record = function (database, storename, key) { return new Promise(function (resolve, reject) {
    var transaction = database.transaction([storename], 'readonly');
    var store = transaction.objectStore(storename);
    var request = store.get(key);
    request.addEventListener("success", function (event) { return resolve(request.result); });
    request.addEventListener("error", function (event) { return reject(request.error); });
}); };
//# sourceMappingURL=driver.js.map

/***/ }),

/***/ 46:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DialogProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/*
  Generated class for the DialogProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var DialogProvider = (function () {
    function DialogProvider(modalCtrl, popoverCtrl, toastCtrl, alertCtrl, sheetCtrl) {
        this.modalCtrl = modalCtrl;
        this.popoverCtrl = popoverCtrl;
        this.toastCtrl = toastCtrl;
        this.alertCtrl = alertCtrl;
        this.sheetCtrl = sheetCtrl;
        console.log('Hello DialogProvider Provider');
    }
    /**
     * 弹出模型
     * position : top middle bottom
     */
    DialogProvider.prototype.showPopoer = function (view, datas, opts, event) {
        var _this = this;
        var promise = new Promise(function (success) {
            var popover = _this.popoverCtrl.create(view, datas, opts);
            popover.onDidDismiss(function () {
                if (success)
                    success();
            });
            popover.present({ ev: event });
        });
        //异步回调
        return promise;
    };
    /**
     * 弹出模型
     * position : top middle bottom
     */
    DialogProvider.prototype.showModal = function (view, datas, opts) {
        var _this = this;
        var promise = new Promise(function (success) {
            var modal = _this.modalCtrl.create(view, datas, opts);
            modal.onDidDismiss(function (data) {
                if (success)
                    success(data);
            });
            modal.present();
        });
        //异步回调
        return promise;
    };
    /**
     * 显示提示 2s
     * position : top middle bottom
     */
    DialogProvider.prototype.showToast = function (position, message) {
        var toast = this.toastCtrl.create({
            message: message,
            duration: 2000,
            position: position
        });
        //执行显示
        toast.present();
    };
    /**
     * 显示普通对话框
     */
    DialogProvider.prototype.showAlert = function (title, message) {
        var _this = this;
        var promise = new Promise(function (success) {
            var alert = _this.alertCtrl.create({
                title: title,
                subTitle: message,
                enableBackdropDismiss: false,
                buttons: [{
                        text: '确定',
                        role: 'cancel',
                        handler: function () {
                            if (success)
                                success();
                        }
                    }]
            });
            //执行显示
            alert.present();
        });
        //异步回调
        return promise;
    };
    /**
     * 显示选择对话框
     */
    DialogProvider.prototype.showConfirm = function (title, message) {
        var _this = this;
        var promise = new Promise(function (success, fail) {
            var alert = _this.alertCtrl.create({
                title: title,
                message: message,
                enableBackdropDismiss: false,
                buttons: [{
                        text: '取消',
                        role: 'cancel',
                        handler: function () {
                            if (fail)
                                fail();
                        }
                    }, {
                        text: '确定',
                        handler: function () {
                            if (success)
                                success();
                        }
                    }]
            });
            //执行显示
            alert.present();
        });
        //异步回调
        return promise;
    };
    /**
     * 显示输入对话框
     * inputs: [{name: 'username',placeholder: 'Username',type: 'text'},
                        {name: 'password',placeholder: 'Password',type: 'password'}],
     */
    DialogProvider.prototype.showPrompt = function (title, message, inputs) {
        var _this = this;
        var promise = new Promise(function (success, fail) {
            var alert = _this.alertCtrl.create({
                title: title,
                message: message,
                enableBackdropDismiss: false,
                inputs: inputs,
                buttons: [{
                        text: '取消',
                        role: 'cancel',
                        handler: function (data) {
                            if (fail)
                                success({ code: 0, data: data });
                        }
                    }, {
                        text: '确定',
                        handler: function (data) {
                            if (success)
                                success({ code: 1, data: data });
                        }
                    }]
            });
            //执行显示
            alert.present();
        });
        //异步回调
        return promise;
    };
    /**
     * 显示表单选择对话框
     * role:destructive or cancel
     * buttons:[{text:'',icon:'',handler:' () => {}',role:''}]
     */
    DialogProvider.prototype.showActionSheet = function (title, subTitle, buttons, message) {
        var _this = this;
        var promise = new Promise(function (success, fail) {
            var actionSheet = _this.sheetCtrl.create({
                title: title,
                subTitle: subTitle,
                buttons: buttons
            });
            //执行显示
            actionSheet.present();
        });
        //异步回调
        return promise;
    };
    DialogProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["PopoverController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ToastController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], DialogProvider);
    return DialogProvider;
}());

//# sourceMappingURL=dialog.js.map

/***/ }),

/***/ 461:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttptimingProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common_http__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do__ = __webpack_require__(363);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_do__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__ = __webpack_require__(463);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Rx___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Rx__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the HttptimingProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var HttptimingProvider = (function () {
    function HttptimingProvider() {
    }
    HttptimingProvider.prototype.intercept = function (req, next) {
        // 在这里写请求发起之前的行为
        return next.handle(req).do(function (event) {
            // 在这里写请求完成后的行为
            if (event.type == __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].Sent) {
            }
            else if (event.type == __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].UploadProgress) {
            }
            else if (event.type == __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].ResponseHeader) {
            }
            else if (event.type == __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].DownloadProgress) {
            }
            else if (event.type == __WEBPACK_IMPORTED_MODULE_1__angular_common_http__["d" /* HttpEventType */].Response) {
            }
            return event;
        });
    };
    HttptimingProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], HttptimingProvider);
    return HttptimingProvider;
}());

//# sourceMappingURL=httptiming.js.map

/***/ }),

/***/ 726:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilesProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_img_viewer__ = __webpack_require__(276);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FilesProvider = (function () {
    function FilesProvider(loadingCtrl, imageViewerCtrl) {
        this.loadingCtrl = loadingCtrl;
        this.imageViewerCtrl = imageViewerCtrl;
        console.log('Hello FilesProvider Provider');
    }
    /**
     * 显示图片
     */
    FilesProvider.prototype.showPicImage = function (myImage) {
        var imageViewer = this.imageViewerCtrl.create(myImage);
        imageViewer.present();
        //setTimeout(() => imageViewer.dismiss(), 10000);
        //imageViewer.onDidDismiss(() => alert('Viewer dismissed'));
    };
    /**
     * 上传图片
     */
    FilesProvider.prototype.showPicUpload = function () {
        var _this = this;
        var promise = new Promise(function (success, fail) {
            //动态创建文件上传控件
            var file = document.createElement('input');
            file.setAttribute("type", "file");
            file.setAttribute("accept", "image/*");
            file.id = 'showPicUpload_' + new Date().getTime();
            //动态图
            var that = _this;
            var loading = _this.loadingCtrl.create({
                content: '处理中...'
            });
            file.onchange = function (e) {
                loading.present();
                var files = e.target['files'][0];
                var reader = new FileReader();
                reader.onload = function () {
                    //图片压缩
                    that.fileCompress(files, this.result).then(function (val) {
                        loading.dismiss();
                        if (success)
                            success({ 'name': files.type, 'type': files.type, 'data': val });
                    }, function (error) {
                        loading.dismiss();
                        if (fail)
                            fail();
                    });
                };
                reader.readAsDataURL(files);
                reader.onerror = function () {
                    loading.dismiss();
                    if (fail)
                        fail();
                };
            };
            document.body.appendChild(file);
            file.click();
        });
        //异步回调
        return promise;
    };
    /**
     * 图片压缩 (压缩宽度在750以内)
     */
    FilesProvider.prototype.fileCompress = function (files, base64) {
        var _this = this;
        var promise = new Promise(function (success, fail) {
            //获取照片方向角属性，用户旋转控制
            var that = _this;
            EXIF.getData(files, function () {
                EXIF.getAllTags(this);
                var Orientation = EXIF.getTag(this, 'Orientation');
                var snowImg = new Image();
                snowImg.src = base64;
                snowImg.onload = function () {
                    //设置图片像素
                    var maxwidth = 400;
                    var scale = snowImg['width'] / snowImg['height']; //宽高比
                    var quality = 0.5; // 默认图片质量为0.7
                    var width = maxwidth;
                    var height = maxwidth / scale;
                    //生成canvas
                    var canvas = document.createElement('canvas');
                    canvas.width = width;
                    canvas.height = height;
                    var ctx = canvas.getContext('2d');
                    ctx.drawImage(snowImg, 0, 0, width, height); //开始画图
                    //图片旋转
                    if (Orientation != "" && Orientation != 1) {
                        switch (Orientation) {
                            case 6://需要顺时针（向左）90度旋转 
                                that.rotateImg(snowImg, 'left', canvas);
                                break;
                            case 8://需要逆时针（向右）90度旋转 
                                that.rotateImg(snowImg, 'right', canvas);
                                break;
                            case 3://需要180度旋转 
                                that.rotateImg(snowImg, 'right', canvas); //转两次 
                                that.rotateImg(snowImg, 'right', canvas);
                                break;
                        }
                    }
                    // quality值越小，所绘制出的图像越模糊
                    var newbase64 = canvas.toDataURL('image/jpeg', quality);
                    if (success)
                        success(newbase64);
                };
            });
        });
        //异步回调
        return promise;
    };
    /**
     * 对图片旋转处理
     */
    FilesProvider.prototype.rotateImg = function (img, direction, canvas) {
        //最小与最大旋转方向，图片旋转4次后回到原方向   
        var min_step = 0;
        var max_step = 3;
        if (img == null)
            return;
        //img的高度和宽度不能在img元素隐藏后获取，否则会出错   
        var height = img.height;
        var width = img.width;
        var step = 2;
        if (step == null) {
            step = min_step;
        }
        if (direction == 'right') {
            step++;
            //旋转到原位置，即超过最大值   
            step > max_step && (step = min_step);
        }
        else {
            step--;
            step < min_step && (step = max_step);
        }
        //旋转角度以弧度值为参数   
        var degree = step * 90 * Math.PI / 180;
        var ctx = canvas.getContext('2d');
        switch (step) {
            case 0:
                canvas.width = width;
                canvas.height = height;
                ctx.drawImage(img, 0, 0);
                break;
            case 1:
                canvas.width = height;
                canvas.height = width;
                ctx.rotate(degree);
                ctx.drawImage(img, 0, -height);
                break;
            case 2:
                canvas.width = width;
                canvas.height = height;
                ctx.rotate(degree);
                ctx.drawImage(img, -width, -height);
                break;
            case 3:
                canvas.width = height;
                canvas.height = width;
                ctx.rotate(degree);
                ctx.drawImage(img, -width, 0);
                break;
        }
    };
    FilesProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["LoadingController"],
            __WEBPACK_IMPORTED_MODULE_2_ionic_img_viewer__["a" /* ImageViewerController */]])
    ], FilesProvider);
    return FilesProvider;
}());

//# sourceMappingURL=files.js.map

/***/ }),

/***/ 727:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MtcDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__base_base_data_service__ = __webpack_require__(22);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var MtcDataService = (function (_super) {
    __extends(MtcDataService, _super);
    function MtcDataService() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MtcDataService.prototype.onInit = function () {
        this.ENTITY_NAME = 'mtc';
        _super.prototype.onInit.call(this);
    };
    MtcDataService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
    ], MtcDataService);
    return MtcDataService;
}(__WEBPACK_IMPORTED_MODULE_1__base_base_data_service__["a" /* BaseDataService */]));

//# sourceMappingURL=mtc.service.js.map

/***/ }),

/***/ 75:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UnitsProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

/*
  Generated class for the UnitsProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var UnitsProvider = (function () {
    function UnitsProvider() {
        console.log('Hello UnitsProvider Provider');
    }
    //微信内置浏览器
    UnitsProvider.prototype.isWechat = function () {
        var ua = window.navigator.userAgent.toLowerCase();
        var item = new RegExp('micromessenger', 'i');
        if (item.test(ua)) {
            return true;
        }
        else {
            return false;
        }
    };
    //获取get参数
    UnitsProvider.prototype.urlParams = function (name) {
        var lets = new Object();
        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for (var i = 0; i < hashes.length; i++) {
            var done = hashes[i].split('#');
            if (done.length > 1) {
                var hash = done[0].split('=');
                lets[hash[0]] = hash[1];
            }
            else {
                var hash = hashes[i].split('=');
                lets[hash[0]] = hash[1];
            }
        }
        return lets[name];
    };
    ;
    //时间戳转换
    UnitsProvider.prototype.getIntToDateString = function (timestamp) {
        var theDate = new Date();
        theDate.setTime(timestamp);
        return theDate.getFullYear() + "-" + (theDate.getMonth() + 1) + "-" + theDate.getDate() + " " +
            theDate.getHours() + ":" + theDate.getMinutes() + ":" + theDate.getSeconds();
    };
    ;
    UnitsProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], UnitsProvider);
    return UnitsProvider;
}());

//# sourceMappingURL=units.js.map

/***/ }),

/***/ 88:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StorageProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_storage__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__units_units__ = __webpack_require__(75);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/*
  Generated class for the StorageProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var StorageProvider = (function () {
    function StorageProvider(storage, platform, units) {
        this.storage = storage;
        this.platform = platform;
        this.units = units;
        console.log('Hello StorageProvider Provider');
    }
    /**
     * 保存数据
     */
    StorageProvider.prototype.saveStorage = function (name, value) {
        var _this = this;
        return new Promise(function (success) {
            if (_this.units.isWechat()) {
                if (value instanceof Object) {
                    //存对象名字
                    var keyname = '';
                    for (var key in value) {
                        keyname = keyname + key + ",";
                    }
                    keyname = keyname.substring(0, keyname.length - 1);
                    sessionStorage.setItem("keys_" + name, keyname);
                    //可以存对象
                    for (var key in value) {
                        sessionStorage.setItem(name + "_" + key, value[key]);
                    }
                }
                else {
                    sessionStorage.setItem(name, value);
                }
                if (success)
                    success();
            }
            else if (_this.platform.is('cordova')) {
                //可以存对象
                _this.storage.set(name, value).then(function (val) {
                    if (success)
                        success();
                });
            }
            else {
                if (value instanceof Object) {
                    //存对象名字
                    var keyname = '';
                    for (var key in value) {
                        keyname = keyname + key + ",";
                    }
                    keyname = keyname.substring(0, keyname.length - 1);
                    localStorage.setItem("keys_" + name, keyname);
                    //可以存对象
                    for (var key in value) {
                        localStorage.setItem(name + "_" + key, value[key]);
                    }
                }
                else {
                    localStorage.setItem(name, value);
                }
                if (success)
                    success();
            }
        });
    };
    /**
     * 指定删除
     */
    StorageProvider.prototype.removeStorage = function (name) {
        var _this = this;
        return new Promise(function (success) {
            if (_this.units.isWechat()) {
                //1.先判断取值是否取到
                var value = sessionStorage.getItem(name);
                if (value != undefined) {
                    if (success)
                        success(value);
                }
                else {
                    var keyname = sessionStorage.getItem("keys_" + name);
                    if (keyname != undefined) {
                        var items = keyname.split(',');
                        for (var i = 0; i < items.length; i++) {
                            sessionStorage.removeItem(name + "_" + items[i]);
                        }
                        sessionStorage.removeItem("keys_" + name);
                        if (success)
                            success();
                    }
                    else {
                        if (success)
                            success();
                    }
                }
            }
            else if (_this.platform.is('cordova')) {
                _this.storage.remove(name).then(function (val) {
                    if (success)
                        success();
                });
            }
            else {
                //1.先判断取值是否取到
                var value = localStorage.getItem(name);
                if (value != undefined) {
                    if (success)
                        success(value);
                }
                else {
                    var keyname = localStorage.getItem("keys_" + name);
                    if (keyname != undefined) {
                        var items = keyname.split(',');
                        for (var i = 0; i < items.length; i++) {
                            localStorage.removeItem(name + "_" + items[i]);
                        }
                        localStorage.removeItem("keys_" + name);
                        if (success)
                            success();
                    }
                    else {
                        if (success)
                            success();
                    }
                }
            }
        });
    };
    /**
     * 删除所有
     */
    StorageProvider.prototype.clearStorage = function () {
        var _this = this;
        return new Promise(function (success) {
            if (_this.units.isWechat()) {
                sessionStorage.clear();
                if (success)
                    success();
            }
            else if (_this.platform.is('cordova')) {
                _this.storage.clear().then(function (val) {
                    if (success)
                        success();
                });
            }
            else {
                localStorage.clear();
                if (success)
                    success();
            }
        });
    };
    /**
     * 指定数据
     */
    StorageProvider.prototype.getStorage = function (name) {
        var _this = this;
        //登录成功
        return new Promise(function (success) {
            if (_this.units.isWechat()) {
                //1.先判断取值是否取到
                var value = sessionStorage.getItem(name);
                if (value != undefined) {
                    if (success)
                        success(value);
                }
                else {
                    var keyname = sessionStorage.getItem("keys_" + name);
                    if (keyname != undefined) {
                        var items = keyname.split(',');
                        var val = new Object();
                        for (var i = 0; i < items.length; i++) {
                            val[items[i]] = sessionStorage.getItem(name + "_" + items[i]);
                        }
                        if (success)
                            success(val);
                    }
                    else {
                        if (success)
                            success(undefined);
                    }
                }
            }
            else if (_this.platform.is('cordova')) {
                _this.storage.get(name).then(function (val) {
                    if (success)
                        success(val);
                });
            }
            else {
                //1.先判断取值是否取到
                var value = localStorage.getItem(name);
                if (value != undefined) {
                    if (success)
                        success(value);
                }
                else {
                    //2.然后判断keys
                    var keyname = localStorage.getItem("keys_" + name);
                    if (keyname != undefined) {
                        var items = keyname.split(',');
                        var val = new Object();
                        for (var i = 0; i < items.length; i++) {
                            val[items[i]] = localStorage.getItem(name + "_" + items[i]);
                        }
                        if (success)
                            success(val);
                    }
                    else {
                        if (success)
                            success(undefined);
                    }
                }
            }
        });
    };
    StorageProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_storage__["b" /* Storage */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_3__units_units__["a" /* UnitsProvider */]])
    ], StorageProvider);
    return StorageProvider;
}());

//# sourceMappingURL=storage.js.map

/***/ })

},[385]);
//# sourceMappingURL=main.js.map